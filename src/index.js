!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=91)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(24),i=n(53),s=n(3),o=n(41),c=n(12),u=n(36);class a extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof a?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new h(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new h(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new a(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class h extends a{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let c=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(c=Object.create(e),Object(r.a)(c.unsubscribe)&&this.add(c.unsubscribe.bind(c)),c.unsubscribe=this.unsubscribe.bind(this))),this._context=c,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;c.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=c.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);c.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),c.a.useDeprecatedSynchronousErrorHandling)throw t;Object(u.a)(t)}}__tryOrSetError(t,e,n){if(!c.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return c.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(u.a)(e),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u}));var r=n(0),i=n(2),s=n(35);class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}r.a;class c extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}r.a;function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(51),i=n(0),s=n(41),o=n(53);var c=n(21),u=n(38),a=n(12);class h{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(t){const e=new h;return e.source=this,e.operator=t,e}subscribe(t,e,n){const{operator:r}=this,c=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[s.a])return t[s.a]()}return t||e||n?new i.a(t,e,n):new i.a(o.a)}(t,e,n);if(r?c.add(r.call(c,this.source)):c.add(this.source||a.a.useDeprecatedSynchronousErrorHandling&&!c.syncErrorThrowable?this._subscribe(c):this._trySubscribe(c)),a.a.useDeprecatedSynchronousErrorHandling&&c.syncErrorThrowable&&(c.syncErrorThrowable=!1,c.syncErrorThrown))throw c.syncErrorValue;return c}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(r.a)(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(t){n(t),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[c.a](){return this}pipe(...t){return 0===t.length?this:Object(u.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}function l(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}h.create=t=>new h(t)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r,i=n(6),s=n(50),o=n(24),c=n(40);class u{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:r,_subscriptions:h}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof u)e.remove(this);else if(null!==e)for(let t=0;t<e.length;++t){e[t].remove(this)}if(Object(o.a)(r)){n&&(this._unsubscribe=void 0);try{r.call(this)}catch(e){t=e instanceof c.a?a(e.errors):[e]}}if(Object(i.a)(h)){let e=-1,n=h.length;for(;++e<n;){const n=h[e];if(Object(s.a)(n))try{n.unsubscribe()}catch(e){t=t||[],e instanceof c.a?t=t.concat(a(e.errors)):t.push(e)}}}if(t)throw new c.a(t)}add(t){let e=t;if(!t)return u.EMPTY;switch(typeof t){case"function":e=new u(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof u)){const t=e;e=new u,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof u){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}function a(t){return t.reduce((t,e)=>t.concat(e instanceof c.a?e.errors:e),[])}u.EMPTY=((r=new u).closed=!0,r)},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return h}));var r=n(2),i=n(0),s=n(3),o=n(22),c=n(67),u=n(41);class a extends i.a{constructor(t){super(t),this.destination=t}}class h extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new a(this)}lift(t){const e=new l(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let e=0;e<n;e++)r[e].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let e=0;e<n;e++)r[e].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let t=0;t<e;t++)n[t].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new c.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}h.create=(t,e)=>new l(t,e);class l extends h{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return s}));var r=n(31);const i=new(n(29).a)(r.a),s=i},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=Array.isArray||(t=>t&&"number"==typeof t.length)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}},function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n(2);const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(2),i=n(35),s=n(66);function o(t,e){return e?Object(s.a)(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(0);class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var s=n(35),o=n(2);function c(t,e,n,r,c=new i(t,n,r)){if(!c.closed)return e instanceof o.a?e.subscribe(c):Object(s.a)(e)(c)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return s})),n.d(e,"__rest",(function(){return o})),n.d(e,"__decorate",(function(){return c})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return a})),n.d(e,"__awaiter",(function(){return h})),n.d(e,"__generator",(function(){return l})),n.d(e,"__createBinding",(function(){return d})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return p})),n.d(e,"__read",(function(){return b})),n.d(e,"__spread",(function(){return m})),n.d(e,"__spreadArrays",(function(){return g})),n.d(e,"__await",(function(){return v})),n.d(e,"__asyncGenerator",(function(){return y})),n.d(e,"__asyncDelegator",(function(){return w})),n.d(e,"__asyncValues",(function(){return S})),n.d(e,"__makeTemplateObject",(function(){return x})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return T})),n.d(e,"__classPrivateFieldGet",(function(){return O})),n.d(e,"__classPrivateFieldSet",(function(){return j}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function c(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function u(t,e){return function(n,r){e(n,r,t)}}function a(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function h(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function c(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,c)}u((r=r.apply(t,e||[])).next())}))}function l(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}}var d=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function f(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||d(e,t,n)}function p(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function b(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function m(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(b(arguments[e]));return t}function g(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,c=s.length;o<c;o++,i++)r[i]=s[o];return r}function v(t){return this instanceof v?(this.v=t,this):new v(t)}function y(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){s.push([t,e,n,r])>1||c(t,e)}))})}function c(t,e){try{(n=i[t](e)).value instanceof v?Promise.resolve(n.value.v).then(u,a):h(s[0][2],n)}catch(t){h(s[0][3],t)}var n}function u(t){c("next",t)}function a(t){c("throw",t)}function h(t,e){t(e),s.shift(),s.length&&c(s[0][0],s[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:v(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function S(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,i,(e=t[n](e)).done,e.value)}))}}}function x(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var _=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&d(e,t,n);return _(e,t),e}function T(t){return t&&t.__esModule?t:{default:t}}function O(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function j(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0);class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0);function i(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return c}));var r,i=n(9),s=n(37),o=n(45);!function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"}(r||(r={}));class c{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return Object(o.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new c("N",t):c.undefinedValueNotification}static createError(t){return new c("E",void 0,t)}static createComplete(){return c.completeNotification}}c.completeNotification=new c("C"),c.undefinedValueNotification=new c("N",void 0)},function(t,e,n){"use strict";var r=n(81),i=Object.prototype.toString;function s(t){return"[object Array]"===i.call(t)}function o(t){return void 0===t}function c(t){return null!==t&&"object"==typeof t}function u(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function a(t){return"[object Function]"===i.call(t)}function h(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),s(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:s,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:c,isPlainObject:u,isUndefined:o,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:a,isStream:function(t){return c(t)&&a(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:h,merge:function t(){var e={};function n(n,r){u(e[r])&&u(n)?e[r]=t(e[r],n):u(n)?e[r]=t({},n):s(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)h(arguments[r],n);return e},extend:function(t,e,n){return h(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(13).__exportStar(n(96),e)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n(7),i=n(10),s=n(1);function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}const a=o},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(2),i=n(68),s=n(52);function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(56);class i extends r.a{constructor(t,e=r.a.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(4),i=n(3);class s extends r.a{constructor(){super(...arguments),this.value=null,this.hasNext=!1,this.hasCompleted=!1}_subscribe(t){return this.hasError?(t.error(this.thrownError),i.a.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),i.a.EMPTY):super._subscribe(t)}next(t){this.hasCompleted||(this.value=t,this.hasNext=!0)}error(t){this.hasCompleted||super.error(t)}complete(){this.hasCompleted=!0,this.hasNext&&super.next(this.value),super.complete()}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(3);class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(6);function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationService=void 0;class r{constructor(){this._configuration={}}get configuration(){return this._configuration}set configuration(t){this._configuration=t}static getInstance(){return r.instance||(r.instance=new r),r.instance}}e.ConfigurationService=r},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(37),i=n(62);function s(...t){return Object(i.a)()(Object(r.a)(...t))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(68),i=n(36);var s=n(19);var o=n(21);var c=n(69),u=n(70),a=n(50);const h=t=>{if(t&&"function"==typeof t[o.a])return h=t,t=>{const e=h[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(c.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(e){return t.error(e),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(a.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,h}},function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(8),i=n(28),s=n(52);function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n(14);function i(...t){return s(t)}function s(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return d})),n.d(e,"a",(function(){return f}));let r=1;const i=Promise.resolve(),s={};function o(t){return t in s&&(delete s[t],!0)}const c={setImmediate(t){const e=r++;return s[e]=!0,i.then(()=>o(e)&&t()),e},clearImmediate(t){o(t)}};var u=n(31);class a extends u.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=c.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(c.clearImmediate(e),t.scheduled=void 0)}}var h=n(29);class l extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new l(a),f=d},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GeneralUtil=void 0;const r=n(25);e.GeneralUtil=class{static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})}static getSdkVersion(){const t=n(143);return null==t?void 0:t.version}static getAuthorizationHeader(t){return{Authorization:"Bearer "+t}}static getEnvironmentType(t){return t?t.startsWith("pk_test")?r.EnvironmentType.Sandbox:(t.startsWith("pk_live"),r.EnvironmentType.Production):r.EnvironmentType.Production}static getTokenEndpointUrl(t){return{[r.EnvironmentType.Production]:"https://api.deepstack.io",[r.EnvironmentType.Sandbox]:"https://api.sandbox.deepstack.io"}[this.getEnvironmentType(t)]}static getTokenEndpointUrlV1(t){return{[r.EnvironmentType.Production]:"https://gpgway.com",[r.EnvironmentType.Sandbox]:"https://sandbox.gpgway.com"}[this.getEnvironmentType(t)]}static getFormsURL(){return`https://sdk-forms.globallypaid.com/${this.getSdkVersion()}/index.html`}static getV1FormsURL(){return`https://sdk-forms.gpgway.com/${this.getSdkVersion()}/index.html`}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0);function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(4),i=n(55),s=n(3),o=n(60),c=n(22),u=n(67);class a extends r.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new h(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let a;if(this.closed)throw new c.a;if(this.isStopped||this.hasError?a=s.a.EMPTY:(this.observers.push(t),a=new u.a(this,t)),r&&t.add(t=new o.a(t,r)),e)for(let e=0;e<i&&!t.closed;e++)t.next(n[e]);else for(let e=0;e<i&&!t.closed;e++)t.next(n[e].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),a}_getNow(){return(this.scheduler||i.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class h{constructor(t,e){this.time=t,this.value=e}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(2);function i(t,e){return e?new r.a(n=>e.schedule(s,0,{error:t,subscriber:n})):new r.a(e=>e.error(t))}function s({error:t,subscriber:e}){e.error(t)}},function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return h}));var r=n(8),i=n(6),s=n(15),o=n(11),c=n(28);const u={};function a(...t){let e=void 0,n=void 0;return Object(r.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(i.a)(t[0])&&(t=t[0]),Object(c.a)(t,n).lift(new h(e))}class h{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new l(t,this.resultSelector))}}class l extends s.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(u),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(o.a)(this,e,void 0,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=r[n],s=this.toRespond?i===u?--this.toRespond:this.toRespond:0;r[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(27),i=n(14);function s(t=Number.POSITIVE_INFINITY){return Object(r.b)(i.a,t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(2),i=n(10),s=n(9);function o(t){return new r.a(e=>{let n;try{n=t()}catch(t){return void e.error(t)}return(n?Object(i.a)(n):Object(s.b)()).subscribe(e)})}},function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return a}));var r=n(28),i=n(6),s=n(0),o=n(19),c=n(1);function u(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),Object(r.a)(t,void 0).lift(new a(e))}class a{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new h(t,this.resultSelector))}}class h extends s.a{constructor(t,e,n=Object.create(null)){super(t),this.resultSelector=e,this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:void 0}_next(t){const e=this.iterators;Object(i.a)(t)?e.push(new d(t)):"function"==typeof t[o.a]?e.push(new l(t[o.a]())):e.push(new f(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];if(e.stillUnsubscribed){this.destination.add(e.subscribe())}else this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let n=0;n<e;n++){let e=t[n];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let s=0;s<e;s++){let e=t[s],o=e.next();if(e.hasCompleted()&&(r=!0),o.done)return void n.complete();i.push(o.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}class l{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return Boolean(t&&t.done)}}class d{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[o.a](){return this}next(t){const e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class f extends c.b{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[o.a](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t){this.buffer.push(t),this.parent.checkIterators()}subscribe(){return Object(c.c)(this.observable,new c.a(this))}}},function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0);function i(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(2),i=n(3);function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(12),i=n(36);const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoggerService=void 0;const r=n(138),i=n(33);class s{constructor(){this.configurationService=i.ConfigurationService.getInstance()}static getInstance(){return s.logger||(s.logger=new s),s.logger}isEnabled(){return this.configurationService.configuration.publishableKey.startsWith("pk_test")}isStringy(t){return"[object String]"===Object.prototype.toString.call(t)||"[object Number]"===Object.prototype.toString.call(t)}_log(t,e){let n=console.log;switch(t){case r.LogLevel.DEBUG:n=console.debug;break;case r.LogLevel.INFO:n=console.info;break;case r.LogLevel.WARN:n=console.warn;break;case r.LogLevel.ERROR:n=console.error}(this.isEnabled()||t===r.LogLevel.ERROR)&&n(`[SDK.${t}] ~ ${this.isStringy(e)?e:JSON.stringify(e,null,4)}`)}debug(t){this._log(r.LogLevel.DEBUG,t)}info(t){this._log(r.LogLevel.INFO,t)}warn(t){this._log(r.LogLevel.WARN,t)}error(t){this._log(r.LogLevel.ERROR,t)}}e.LoggerService=s},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return u}));var r=n(31);class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n(29);class o extends s.a{}const c=new o(i),u=c},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));class r{constructor(t,e=r.now){this.SchedulerAction=t,this.now=e}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}r.now=()=>Date.now()},function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n(0),i=n(3),s=n(2),o=n(4);function c(t,e,n,r){return i=>i.lift(new u(t,e,n,r))}class u{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new a(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class a extends r.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(t){this.error(t)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new o.a,n.set(e,i);const t=new l(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new l(e,i))}catch(t){return void this.error(t)}this.add(t.subscribe(new h(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class h extends r.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class l extends s.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new i.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new d(n)),e.add(r.subscribe(t)),e}}class d extends i.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return a}));var r=n(4),i=n(2),s=n(0),o=n(3),c=n(43);class u extends i.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.a,t.add(this.source.subscribe(new h(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.a.EMPTY)),t}refCount(){return Object(c.a)()(this)}}const a=(()=>{const t=u.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class h extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}s.a},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(4),i=n(22);class s extends r.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new i.a;return this._value}next(t){super.next(this._value=t)}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return c}));var r=n(0),i=n(17);function s(t,e=0){return function(n){return n.lift(new o(t,e))}}class o{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new c(t,this.scheduler,this.delay))}}class c extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(c.dispatch,this.delay,new u(t,this.destination)))}_next(t){this.scheduleMessage(i.a.createNext(t))}_error(t){this.scheduleMessage(i.a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(i.a.createComplete()),this.unsubscribe()}}class u{constructor(t,e){this.notification=t,this.destination=e}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t})()},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(47);function i(){return Object(r.a)(1)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(2),i=n(8),s=n(47),o=n(28);function c(...t){let e=Number.POSITIVE_INFINITY,n=null,c=t[t.length-1];return Object(i.a)(c)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof c&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(6),i=n(28),s=n(15),o=n(11);function c(...t){if(1===t.length){if(!Object(r.a)(t[0]))return t[0];t=t[0]}return Object(i.a)(t,void 0).lift(new u)}class u{call(t,e){return e.subscribe(new a(t))}}class a extends s.a{constructor(t){super(t),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(t){this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(let n=0;n<e&&!this.hasFirst;n++){const e=t[n],r=Object(o.a)(this,e,void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}}notifyNext(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(let t=0;t<this.subscriptions.length;t++)if(t!==n){let e=this.subscriptions[t];e.unsubscribe(),this.remove(e)}this.subscriptions=null}this.destination.next(e)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(2),i=n(5),s=n(32),o=n(8);function c(t=0,e,n){let c=-1;return Object(s.a)(e)?c=Number(e)<1?1:Number(e):Object(o.a)(e)&&(n=e),Object(o.a)(n)||(n=i.a),new r.a(e=>{const r=Object(s.a)(t)?t:+t-n.now();return n.schedule(u,r,{index:0,period:c,subscriber:e})})}function u(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n(2),i=n(3),s=n(21);var o=n(52),c=n(19);var u=n(70),a=n(69);function h(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new i.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a(n=>{const r=new i.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(a.a)(t))return Object(o.a)(t,e);if(function(t){return t&&"function"==typeof t[c.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new i.a;let s;return r.add(()=>{s&&"function"==typeof s.return&&s.return()}),r.add(e.schedule(()=>{s=t[c.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=s.next();t=n.value,e=n.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(3);class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FrameCommunicatorService=void 0;const r=n(13),i=n(90),s=n(25),o=n(33),c=n(54);class u{constructor(){this.configurationService=o.ConfigurationService.getInstance(),this.log=c.LoggerService.getInstance(),this.notifier$=new i.Subject,this.frameMessageListener=t=>r.__awaiter(this,void 0,void 0,(function*(){const e=t.data;(null==e?void 0:e.type)&&Object.values(s.MessageType).includes(e.type)&&this.notifier$.next({type:e.type,message:e.message,success:!e.hasOwnProperty("success")||e.success,frameUUID:e.frameUUID})})),window.addEventListener("message",this.frameMessageListener)}static getInstance(){return u.instance||(u.instance=new u),u.instance}sendMessageToFrame(t,e){var n,r,i;const s=null===(r=null===(n=this.configurationService)||void 0===n?void 0:n.configuration)||void 0===r?void 0:r.formsURL;null===(i=null==t?void 0:t.contentWindow)||void 0===i||i.postMessage(e,s||"https://sdk-forms.globallypaid.com")}}e.FrameCommunicatorService=u},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Array.isArray,s=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),o=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n};t.exports={arrayToObject:o,assign:function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var s=e[r],o=s.obj[s.prop],c=Object.keys(o),u=0;u<c.length;++u){var a=c[u],h=o[a];"object"==typeof h&&null!==h&&-1===n.indexOf(h)&&(e.push({obj:o,prop:a}),n.push(h))}return function(t){for(;t.length>1;){var e=t.pop(),n=e.obj[e.prop];if(i(n)){for(var r=[],s=0;s<n.length;++s)void 0!==n[s]&&r.push(n[s]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,n){var r=t.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,n){if(0===t.length)return t;var r=t;if("symbol"==typeof t?r=Symbol.prototype.toString.call(t):"string"!=typeof t&&(r=String(t)),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var i="",o=0;o<r.length;++o){var c=r.charCodeAt(o);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122?i+=r.charAt(o):c<128?i+=s[c]:c<2048?i+=s[192|c>>6]+s[128|63&c]:c<55296||c>=57344?i+=s[224|c>>12]+s[128|c>>6&63]+s[128|63&c]:(o+=1,c=65536+((1023&c)<<10|1023&r.charCodeAt(o)),i+=s[240|c>>18]+s[128|c>>12&63]+s[128|c>>6&63]+s[128|63&c])}return i},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(i(t)){for(var n=[],r=0;r<t.length;r+=1)n.push(e(t[r]));return n}return e(t)},merge:function t(e,n,s){if(!n)return e;if("object"!=typeof n){if(i(e))e.push(n);else{if(!e||"object"!=typeof e)return[e,n];(s&&(s.plainObjects||s.allowPrototypes)||!r.call(Object.prototype,n))&&(e[n]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(n);var c=e;return i(e)&&!i(n)&&(c=o(e,s)),i(e)&&i(n)?(n.forEach((function(n,i){if(r.call(e,i)){var o=e[i];o&&"object"==typeof o&&n&&"object"==typeof n?e[i]=t(o,n,s):e.push(n)}else e[i]=n})),e):Object.keys(n).reduce((function(e,i){var o=n[i];return r.call(e,i)?e[i]=t(e[i],o,s):e[i]=o,e}),c)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExternalService=void 0;const r=n(13),i=n(33),s=n(80),o=n(42),c=n(25),u=n(72),a=n(54);class h{static injectKount(){if(!document.getElementById(s.KOUNT_ID_SCRIPT)){const t=document.createElement("script");t.type="text/javascript",t.id=s.KOUNT_ID_SCRIPT,t.src="https://ssl.kaptcha.com/collect/sdk?m=618000",document.body.appendChild(t)}}static removeKount(){const t=document.getElementById(s.KOUNT_ID_SCRIPT);t&&t.remove()}static checkKount(){this.configurationService.configuration.enableKount?this.injectKount():this.removeKount()}static updateExternalServiceProviders(){this.checkKount()}static getKountSessionID(){var t;return(null===window||void 0===window?void 0:window.ka)?null===(t=window.ka)||void 0===t?void 0:t.sessionId:null}static injectSongbird(){if(!document.getElementById(s.SONGBIRD_SCRIPT_ID)){const t=document.createElement("script");t.type="text/javascript",t.id=s.SONGBIRD_SCRIPT_ID;let e="songbirdstag.cardinalcommerce.com";o.GeneralUtil.getEnvironmentType(this.configurationService.configuration.publishableKey)==c.EnvironmentType.Production&&(e="songbird.cardinalcommerce.com"),t.src=`https://${e}/edge/v1/songbird.js`,document.getElementsByTagName("head")[0].appendChild(t)}}static initSongbird(t,e){window.Cardinal&&(null==e?void 0:e.message)&&(window.Cardinal.on("payments.setupComplete",t=>{this.log.debug("Songbird initialized")}),window.Cardinal.configure({logging:{level:this.configurationService.configuration.publishableKey.startsWith("pk_test")?"on":"off"}}),window.Cardinal.on("payments.validated",(n,r)=>{this.frameCommunicator.sendMessageToFrame(t,{type:c.ToFrameMessageType.frameProcessCardinalResponse,message:{data:n,jwt:r},frameUUID:null==e?void 0:e.frameUUID,success:"SUCCESS"===n.ActionCode})}),window.Cardinal.setup("init",{jwt:null==e?void 0:e.message}))}static startBinProcess(t){return r.__awaiter(this,void 0,void 0,(function*(){if(!t.bin&&!t.token)throw new Error("BIN or Token is required for 3DS authentication");return t.bin?window.Cardinal.trigger("bin.process",t.bin):Promise.reject("Token not supported yet")}))}static continueCCA(t,e){window.Cardinal.continue("cca",t,e)}static startCCA(t){var e,n,r,i;const s=null===(i=null===(r=null===(n=null===(e=null==t?void 0:t.Consumer)||void 0===e?void 0:e.Account)||void 0===n?void 0:n.AccountNumber)||void 0===r?void 0:r.toString())||void 0===i?void 0:i.substring(0,6);window.Cardinal.trigger("bin.process",s).then(e=>{window.Cardinal.start("cca",t)}).catch(t=>this.log.error(t))}}e.ExternalService=h,h.configurationService=i.ConfigurationService.getInstance(),h.frameCommunicator=u.FrameCommunicatorService.getInstance(),h.log=a.LoggerService.getInstance()},function(t,e,n){t.exports=n(149)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Form=void 0;const r=n(13),i=n(72),s=n(90),o=n(170),c=n(77),u=n(141),a=n(42),h=n(33),l=n(25),d=n(145),f=n(74),p=n(54);e.Form=class{constructor(t,e,n=l.ApiVersion.v2){var c,d;this.type=t,this.options=e,this.apiVersion=n,this.uuid=a.GeneralUtil.uuidv4(),this.frameCommunicator=i.FrameCommunicatorService.getInstance(),this.sdkConfiguration=h.ConfigurationService.getInstance(),this.notifier$=this.frameCommunicator.notifier$.asObservable(),this.unsubscribe$=new s.Subject,this.registeredEvents=new Map,this.log=p.LoggerService.getInstance(),this.elementEventHandlerFacade=new u.FormEventHandlersFacade(n),this.notifier$.pipe(o.takeUntil(this.unsubscribe$)).subscribe(t=>r.__awaiter(this,void 0,void 0,(function*(){yield this.subscribeToFrameNotifier(t),this.privateFormEventHandler(t)}))),(null===(d=null===(c=this.options)||void 0===c?void 0:c.common)||void 0===d?void 0:d.requires3ds)&&(f.ExternalService.injectSongbird(),this.on(l.FormEvent.INIT_SONGBIRD,t=>{}),this.on(l.FormEvent.START_BIN_PROCESS,t=>{}),this.on(l.FormEvent.CONTINUE_CCA,t=>{}))}subscribeToFrameNotifier(t){return r.__awaiter(this,void 0,void 0,(function*(){const e=this.elementEventHandlerFacade.getFormEvent(t.type);if((null==t?void 0:t.frameUUID)===this.uuid&&this.registeredEvents.has(e)){const n=this.registeredEvents.get(e);try{const e=yield this.elementEventHandlerFacade.handleMessage(this.frame,t);null==n||n.success(e)}catch(t){null==n||n.error(t)}}}))}privateFormEventHandler(t){t.type===l.MessageType.resetForm&&this.resetForm()}on(t,e,n){this.registeredEvents.set(t,{success(t){e(t)},error(t){n&&n(t)}})}mount(t){var e,n,r,i,s,o,u,a,h,l,f,p,b,m,g,v,y,w;this.containerId=t,this.frame=document.createElement("iframe");const S=c.stringify({type:this.type,style:null===(e=this.options)||void 0===e?void 0:e.style,preventImmediateSubmit:!!(null===(r=null===(n=this.options)||void 0===n?void 0:n.common)||void 0===r?void 0:r.preventImmediateSubmit)&&(null===(s=null===(i=this.options)||void 0===i?void 0:i.common)||void 0===s?void 0:s.preventImmediateSubmit),frameUUID:this.uuid,apiVersion:this.apiVersion,publishableKey:this.sdkConfiguration.configuration.publishableKey,globalGUID:null===(o=this.sdkConfiguration.configuration)||void 0===o?void 0:o.globalGUID,globalPublicKey:null===(u=this.sdkConfiguration.configuration)||void 0===u?void 0:u.globalPublicKey,apiBaseURL:null===(a=this.sdkConfiguration.configuration)||void 0===a?void 0:a.tokenApiEndpoint,kountEnabled:this.sdkConfiguration.configuration.enableKount,applePayEnabled:this.sdkConfiguration.configuration.enableApplePay,sdkVersion:this.sdkConfiguration.configuration.sdkVersion,requires3ds:!!(null===(l=null===(h=this.options)||void 0===h?void 0:h.common)||void 0===l?void 0:l.requires3ds)&&(null===(p=null===(f=this.options)||void 0===f?void 0:f.common)||void 0===p?void 0:p.requires3ds),clientCustomerId:null===(m=null===(b=this.options)||void 0===b?void 0:b.common)||void 0===m?void 0:m.clientCustomerId});this.frame.setAttribute("id",this.uuid),this.frame.setAttribute("src",`${this.sdkConfiguration.configuration.formsURL}?${S}`),this.frame.style.width=(null===(y=null===(v=null===(g=this.options)||void 0===g?void 0:g.style)||void 0===v?void 0:v.base)||void 0===y?void 0:y.width)||"100%",this.frame.style.border="0",null===(w=document.getElementById(t))||void 0===w||w.appendChild(this.frame),d.iframeResizer({autoResize:!0,checkOrigin:!1,heightCalculationMethod:-1!==navigator.userAgent.indexOf("MSIE")?"max":"lowestElement"},this.frame)}submit(){this.setFrameState(l.ToFrameMessageType.frameExternalSubmit)}setBillingContact(t){this.setFrameState(l.ToFrameMessageType.frameSetBillingContact,t)}setShippingAddress(t){this.setFrameState(l.ToFrameMessageType.frameSetShippingAddress,t)}setOrderDetails(t){this.setFrameState(l.ToFrameMessageType.frameSetOrderDetails,t)}setPaymentSource(t){this.setFrameState(l.ToFrameMessageType.frameSetPaymentSource,t)}showSpinner(){this.setFrameState(l.ToFrameMessageType.frameShowSpinner)}showError(t="Error"){this.setFrameState(l.ToFrameMessageType.frameShowTokenCreatedFailed,t)}showSuccess(){this.setFrameState(l.ToFrameMessageType.frameShowTokenCreatedSuccess)}resetForm(){this.setFrameState(l.ToFrameMessageType.frameResetForm)}setFrameState(t,e){this.frameCommunicator.sendMessageToFrame(this.frame,{message:e||!0,type:t,frameUUID:this.uuid})}unmount(){this.unsubscribe$.next(),this.unsubscribe$.complete();const t=document.getElementById(this.containerId);for(;null==t?void 0:t.firstChild;)t.removeChild(t.firstChild)}}},function(t,e,n){"use strict";var r=n(139),i=n(140),s=n(78);t.exports={formats:s,parse:i,stringify:r}},function(t,e,n){"use strict";var r=String.prototype.replace,i=/%20/g,s=n(73),o={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports=s.assign({default:o.RFC3986,formatters:{RFC1738:function(t){return r.call(t,i,"+")},RFC3986:function(t){return String(t)}}},o)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FrameEventHandlers=void 0;const r=n(72),i=n(33),s=n(54);e.FrameEventHandlers=class{constructor(t){this.formEventMap=t,this.frameCommunicator=r.FrameCommunicatorService.getInstance(),this.configurationService=i.ConfigurationService.getInstance(),this.log=s.LoggerService.getInstance()}getFormEventByMessageType(t){return this.formEventMap[t]}resetForm(t,e){this.frameCommunicator.sendMessageToFrame(t,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SONGBIRD_SCRIPT_ID=e.KOUNT_ID_SCRIPT=e.URL_CREATE_TOKEN=void 0;const r=n(42);e.URL_CREATE_TOKEN="token",e.KOUNT_ID_SCRIPT="KOUNT_ID_SCRIPT",e.SONGBIRD_SCRIPT_ID=r.GeneralUtil.uuidv4()},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(18);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var s;if(n)s=n(e);else if(r.isURLSearchParams(e))s=e.toString();else{var o=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(i(e)+"="+i(t))})))})),s=o.join("&")}if(s){var c=t.indexOf("#");-1!==c&&(t=t.slice(0,c)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";var r=n(18),i=n(154),s={"Content-Type":"application/x-www-form-urlencoded"};function o(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var c,u={adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=n(85)),c),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(o(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(o(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(s)})),t.exports=u},function(t,e,n){"use strict";var r=n(18),i=n(155),s=n(157),o=n(82),c=n(158),u=n(161),a=n(162),h=n(86);t.exports=function(t){return new Promise((function(e,n){var l=t.data,d=t.headers;r.isFormData(l)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(t.auth){var p=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";d.Authorization="Basic "+btoa(p+":"+b)}var m=c(t.baseURL,t.url);if(f.open(t.method.toUpperCase(),o(m,t.params,t.paramsSerializer),!0),f.timeout=t.timeout,f.onreadystatechange=function(){if(f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in f?u(f.getAllResponseHeaders()):null,s={data:t.responseType&&"text"!==t.responseType?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:t,request:f};i(e,n,s),f=null}},f.onabort=function(){f&&(n(h("Request aborted",t,"ECONNABORTED",f)),f=null)},f.onerror=function(){n(h("Network Error",t,null,f)),f=null},f.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(h(e,t,"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var g=(t.withCredentials||a(m))&&t.xsrfCookieName?s.read(t.xsrfCookieName):void 0;g&&(d[t.xsrfHeaderName]=g)}if("setRequestHeader"in f&&r.forEach(d,(function(t,e){void 0===l&&"content-type"===e.toLowerCase()?delete d[e]:f.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),t.responseType)try{f.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&f.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){f&&(f.abort(),n(t),f=null)})),l||(l=null),f.send(l)}))}},function(t,e,n){"use strict";var r=n(156);t.exports=function(t,e,n,i,s){var o=new Error(t);return r(o,e,n,i,s)}},function(t,e,n){"use strict";var r=n(18);t.exports=function(t,e){e=e||{};var n={},i=["url","method","data"],s=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],c=["validateStatus"];function u(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function a(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=u(void 0,t[i])):n[i]=u(t[i],e[i])}r.forEach(i,(function(t){r.isUndefined(e[t])||(n[t]=u(void 0,e[t]))})),r.forEach(s,a),r.forEach(o,(function(i){r.isUndefined(e[i])?r.isUndefined(t[i])||(n[i]=u(void 0,t[i])):n[i]=u(void 0,e[i])})),r.forEach(c,(function(r){r in e?n[r]=u(t[r],e[r]):r in t&&(n[r]=u(void 0,t[r]))}));var h=i.concat(s).concat(o).concat(c),l=Object.keys(t).concat(Object.keys(e)).filter((function(t){return-1===h.indexOf(t)}));return r.forEach(l,a),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});n(13).__exportStar(n(166),e)},function(t,e,n){"use strict";n.r(e),n.d(e,"Observable",(function(){return r.a})),n.d(e,"ConnectableObservable",(function(){return i.a})),n.d(e,"GroupedObservable",(function(){return s.a})),n.d(e,"observable",(function(){return o.a})),n.d(e,"Subject",(function(){return c.a})),n.d(e,"BehaviorSubject",(function(){return u.a})),n.d(e,"ReplaySubject",(function(){return a.a})),n.d(e,"AsyncSubject",(function(){return h.a})),n.d(e,"asap",(function(){return l.a})),n.d(e,"asapScheduler",(function(){return l.b})),n.d(e,"async",(function(){return d.a})),n.d(e,"asyncScheduler",(function(){return d.b})),n.d(e,"queue",(function(){return f.a})),n.d(e,"queueScheduler",(function(){return f.b})),n.d(e,"animationFrame",(function(){return y})),n.d(e,"animationFrameScheduler",(function(){return v})),n.d(e,"VirtualTimeScheduler",(function(){return w})),n.d(e,"VirtualAction",(function(){return S})),n.d(e,"Scheduler",(function(){return x.a})),n.d(e,"Subscription",(function(){return _.a})),n.d(e,"Subscriber",(function(){return E.a})),n.d(e,"Notification",(function(){return T.a})),n.d(e,"NotificationKind",(function(){return T.b})),n.d(e,"pipe",(function(){return O.a})),n.d(e,"noop",(function(){return j.a})),n.d(e,"identity",(function(){return I.a})),n.d(e,"isObservable",(function(){return N})),n.d(e,"ArgumentOutOfRangeError",(function(){return C.a})),n.d(e,"EmptyError",(function(){return P.a})),n.d(e,"ObjectUnsubscribedError",(function(){return R.a})),n.d(e,"UnsubscriptionError",(function(){return A.a})),n.d(e,"TimeoutError",(function(){return D.a})),n.d(e,"bindCallback",(function(){return B})),n.d(e,"bindNodeCallback",(function(){return H})),n.d(e,"combineLatest",(function(){return G.b})),n.d(e,"concat",(function(){return W.a})),n.d(e,"defer",(function(){return Y.a})),n.d(e,"empty",(function(){return $.b})),n.d(e,"forkJoin",(function(){return Q})),n.d(e,"from",(function(){return Z.a})),n.d(e,"fromEvent",(function(){return et})),n.d(e,"fromEventPattern",(function(){return nt})),n.d(e,"generate",(function(){return rt})),n.d(e,"iif",(function(){return st})),n.d(e,"interval",(function(){return ct})),n.d(e,"merge",(function(){return at.a})),n.d(e,"never",(function(){return lt})),n.d(e,"of",(function(){return dt.a})),n.d(e,"onErrorResumeNext",(function(){return ft})),n.d(e,"pairs",(function(){return pt})),n.d(e,"partition",(function(){return yt})),n.d(e,"race",(function(){return wt.a})),n.d(e,"range",(function(){return St})),n.d(e,"throwError",(function(){return _t.a})),n.d(e,"timer",(function(){return Et.a})),n.d(e,"using",(function(){return Tt})),n.d(e,"zip",(function(){return Ot.b})),n.d(e,"scheduled",(function(){return jt.a})),n.d(e,"EMPTY",(function(){return $.a})),n.d(e,"NEVER",(function(){return ht})),n.d(e,"config",(function(){return It.a}));var r=n(2),i=n(58),s=n(57),o=n(21),c=n(4),u=n(59),a=n(44),h=n(30),l=n(39),d=n(5),f=n(55),p=n(31);class b extends p.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}}var m=n(29);class g extends m.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const v=new g(b),y=v;class w extends m.a{constructor(t=S,e=Number.POSITIVE_INFINITY){super(t,()=>this.frame),this.maxFrames=e,this.frame=0,this.index=-1}flush(){const{actions:t,maxFrames:e}=this;let n,r;for(;(r=t[0])&&r.delay<=e&&(t.shift(),this.frame=r.delay,!(n=r.execute(r.state,r.delay))););if(n){for(;r=t.shift();)r.unsubscribe();throw n}}}w.frameTimeFactor=10;class S extends p.a{constructor(t,e,n=(t.index+=1)){super(t,e),this.scheduler=t,this.work=e,this.index=n,this.active=!0,this.index=t.index=n}schedule(t,e=0){if(!this.id)return super.schedule(t,e);this.active=!1;const n=new S(this.scheduler,this.work);return this.add(n),n.schedule(t,e)}requestAsyncId(t,e,n=0){this.delay=t.frame+n;const{actions:r}=t;return r.push(this),r.sort(S.sortActions),!0}recycleAsyncId(t,e,n=0){}_execute(t,e){if(!0===this.active)return super._execute(t,e)}static sortActions(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1}}var x=n(56),_=n(3),E=n(0),T=n(17),O=n(38),j=n(20),I=n(14);function N(t){return!!t&&(t instanceof r.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var C=n(23),P=n(26),R=n(22),A=n(40),D=n(61),M=n(7),F=n(51),V=n(6),k=n(8);function B(t,e,n){if(e){if(!Object(k.a)(e))return(...r)=>B(t,n)(...r).pipe(Object(M.a)(t=>Object(V.a)(t)?e(...t):e(t)));n=e}return function(...e){const i=this;let s;const o={context:i,subject:s,callbackFunc:t,scheduler:n};return new r.a(r=>{if(n){const t={args:e,subscriber:r,params:o};return n.schedule(L,0,t)}if(!s){s=new h.a;const n=(...t)=>{s.next(t.length<=1?t[0]:t),s.complete()};try{t.apply(i,[...e,n])}catch(t){Object(F.a)(s)?s.error(t):console.warn(t)}}return s.subscribe(r)})}}function L(t){const{args:e,subscriber:n,params:r}=t,{callbackFunc:i,context:s,scheduler:o}=r;let{subject:c}=r;if(!c){c=r.subject=new h.a;const t=(...t)=>{const e=t.length<=1?t[0]:t;this.add(o.schedule(U,0,{value:e,subject:c}))};try{i.apply(s,[...e,t])}catch(t){c.error(t)}}this.add(c.subscribe(n))}function U(t){const{value:e,subject:n}=t;n.next(e),n.complete()}function H(t,e,n){if(e){if(!Object(k.a)(e))return(...r)=>H(t,n)(...r).pipe(Object(M.a)(t=>Object(V.a)(t)?e(...t):e(t)));n=e}return function(...e){const i={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new r.a(r=>{const{context:s}=i;let{subject:o}=i;if(n)return n.schedule(z,0,{params:i,subscriber:r,context:s});if(!o){o=i.subject=new h.a;const n=(...t)=>{const e=t.shift();e?o.error(e):(o.next(t.length<=1?t[0]:t),o.complete())};try{t.apply(s,[...e,n])}catch(t){Object(F.a)(o)?o.error(t):console.warn(t)}}return o.subscribe(r)})}}function z(t){const{params:e,subscriber:n,context:r}=t,{callbackFunc:i,args:s,scheduler:o}=e;let c=e.subject;if(!c){c=e.subject=new h.a;const t=(...t)=>{const e=t.shift();if(e)this.add(o.schedule(K,0,{err:e,subject:c}));else{const e=t.length<=1?t[0]:t;this.add(o.schedule(q,0,{value:e,subject:c}))}};try{i.apply(r,[...s,t])}catch(t){this.add(o.schedule(K,0,{err:t,subject:c}))}}this.add(c.subscribe(n))}function q(t){const{value:e,subject:n}=t;n.next(e),n.complete()}function K(t){const{err:e,subject:n}=t;n.error(e)}var G=n(46),W=n(34),Y=n(48),$=n(9),J=n(50),Z=n(10);function Q(...t){if(1===t.length){const e=t[0];if(Object(V.a)(e))return X(e,null);if(Object(J.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return X(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return X(t=1===t.length&&Object(V.a)(t[0])?t[0]:t,null).pipe(Object(M.a)(t=>e(...t)))}return X(t,null)}function X(t,e){return new r.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let c=0;c<r;c++){const u=Object(Z.a)(t[c]);let a=!1;n.add(u.subscribe({next:t=>{a||(a=!0,o++),i[c]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&a||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}var tt=n(24);Object.prototype.toString;function et(t,e,n,i){return Object(tt.a)(n)&&(i=n,n=void 0),i?et(t,e,n).pipe(Object(M.a)(t=>Object(V.a)(t)?i(...t):i(t))):new r.a(r=>{!function t(e,n,r,i,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,s),o=()=>t.removeEventListener(n,r,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),o=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),o=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,c=e.length;o<c;o++)t(e[o],n,r,i,s)}i.add(o)}(t,e,(function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)}),r,n)})}function nt(t,e,n){return n?nt(t,e).pipe(Object(M.a)(t=>Object(V.a)(t)?n(...t):n(t))):new r.a(n=>{const r=(...t)=>n.next(1===t.length?t[0]:t);let i;try{i=t(r)}catch(t){return void n.error(t)}if(Object(tt.a)(e))return()=>e(r,i)})}function rt(t,e,n,i,s){let o,c;if(1==arguments.length){const r=t;c=r.initialState,e=r.condition,n=r.iterate,o=r.resultSelector||I.a,s=r.scheduler}else void 0===i||Object(k.a)(i)?(c=t,o=I.a,s=i):(c=t,o=i);return new r.a(t=>{let r=c;if(s)return s.schedule(it,0,{subscriber:t,iterate:n,condition:e,resultSelector:o,state:r});for(;;){if(e){let n;try{n=e(r)}catch(e){return void t.error(e)}if(!n){t.complete();break}}let i;try{i=o(r)}catch(e){return void t.error(e)}if(t.next(i),t.closed)break;try{r=n(r)}catch(e){return void t.error(e)}}})}function it(t){const{subscriber:e,condition:n}=t;if(e.closed)return;if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){let r;try{r=n(t.state)}catch(t){return void e.error(t)}if(!r)return void e.complete();if(e.closed)return}let r;try{r=t.resultSelector(t.state)}catch(t){return void e.error(t)}return e.closed||(e.next(r),e.closed)?void 0:this.schedule(t)}function st(t,e=$.a,n=$.a){return Object(Y.a)(()=>t()?e:n)}var ot=n(32);function ct(t=0,e=d.a){return(!Object(ot.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=d.a),new r.a(n=>(n.add(e.schedule(ut,t,{subscriber:n,counter:0,period:t})),n))}function ut(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}var at=n(63);const ht=new r.a(j.a);function lt(){return ht}var dt=n(37);function ft(...t){if(0===t.length)return $.a;const[e,...n]=t;return 1===t.length&&Object(V.a)(e)?ft(...e):new r.a(t=>{const r=()=>t.add(ft(...n).subscribe(t));return Object(Z.a)(e).subscribe({next(e){t.next(e)},error:r,complete:r})})}function pt(t,e){return e?new r.a(n=>{const r=Object.keys(t),i=new _.a;return i.add(e.schedule(bt,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}):new r.a(e=>{const n=Object.keys(t);for(let r=0;r<n.length&&!e.closed;r++){const i=n[r];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()})}function bt(t){const{keys:e,index:n,subscriber:r,subscription:i,obj:s}=t;if(!r.closed)if(n<e.length){const t=e[n];r.next([t,s[t]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:s}))}else r.complete()}var mt=n(71),gt=n(35),vt=n(16);function yt(t,e,n){return[Object(vt.a)(e,n)(new r.a(Object(gt.a)(t))),Object(vt.a)(Object(mt.a)(e,n))(new r.a(Object(gt.a)(t)))]}var wt=n(64);function St(t=0,e,n){return new r.a(r=>{void 0===e&&(e=t,t=0);let i=0,s=t;if(n)return n.schedule(xt,0,{index:i,count:e,start:t,subscriber:r});for(;;){if(i++>=e){r.complete();break}if(r.next(s++),r.closed)break}})}function xt(t){const{start:e,index:n,count:r,subscriber:i}=t;n>=r?i.complete():(i.next(e),i.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}var _t=n(45),Et=n(65);function Tt(t,e){return new r.a(n=>{let r,i;try{r=t()}catch(t){return void n.error(t)}try{i=e(r)}catch(t){return void n.error(t)}const s=(i?Object(Z.a)(i):$.a).subscribe(n);return()=>{s.unsubscribe(),r&&r.unsubscribe()}})}var Ot=n(49),jt=n(66),It=n(12)},function(t,e,n){t.exports=n(92)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(13);n(93),r.__exportStar(n(94),e),r.__exportStar(n(25),e)},function(t,e){},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(13);r.__exportStar(n(95),e),r.__exportStar(n(167),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeepStackSDK=void 0;const r=n(13),i=n(76),s=n(33),o=n(75),c=n(42),u=n(165),a=n(89);e.DeepStackSDK=class{constructor(t){this.publishableKey=t,this.configurationService=s.ConfigurationService.getInstance();const e=this.configurationService.configuration;e.publishableKey=t,e.tokenApiEndpoint=c.GeneralUtil.getTokenEndpointUrl(t),e.formsURL=c.GeneralUtil.getFormsURL(),e.sdkVersion=c.GeneralUtil.getSdkVersion()}createToken(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function*(){return yield u.TokenService.tokenize(u.TokenService.buildSimpleTokenRequest(t,e,n,i))}))}createForm(t,e){return a.obfuscatePublicFormSDKObject(new i.Form(t,e))}configureSDK(){return r.__awaiter(this,void 0,void 0,(function*(){const t=this.configurationService.configuration;try{const e=(yield o.default.get(t.tokenApiEndpoint+"/api/v1/payments/sdk/configuration",{headers:Object.assign({},c.GeneralUtil.getAuthorizationHeader(t.publishableKey))})).data;return t.enableKount=e.kountEnabled,t.enableApplePay=e.applePayEnabled,t.use3ds=e.use3ds,t}catch(t){throw new Error(t)}}))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(13);r.__exportStar(n(97),e),r.__exportStar(n(98),e),r.__exportStar(n(99),e),r.__exportStar(n(100),e),r.__exportStar(n(101),e),r.__exportStar(n(102),e),r.__exportStar(n(103),e),r.__exportStar(n(104),e),r.__exportStar(n(105),e),r.__exportStar(n(106),e),r.__exportStar(n(107),e),r.__exportStar(n(108),e),r.__exportStar(n(109),e),r.__exportStar(n(110),e),r.__exportStar(n(111),e),r.__exportStar(n(112),e),r.__exportStar(n(113),e),r.__exportStar(n(114),e),r.__exportStar(n(115),e),r.__exportStar(n(116),e),r.__exportStar(n(117),e),r.__exportStar(n(130),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(13);r.__exportStar(n(118),e),r.__exportStar(n(119),e),r.__exportStar(n(120),e),r.__exportStar(n(121),e),r.__exportStar(n(122),e),r.__exportStar(n(123),e),r.__exportStar(n(124),e),r.__exportStar(n(125),e),r.__exportStar(n(126),e),r.__exportStar(n(127),e),r.__exportStar(n(128),e),r.__exportStar(n(129),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(13);r.__exportStar(n(131),e),r.__exportStar(n(132),e),r.__exportStar(n(133),e),r.__exportStar(n(134),e),r.__exportStar(n(135),e),r.__exportStar(n(136),e),r.__exportStar(n(137),e)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormType=void 0,function(t){t.cardSimple="card-simple",t.cardExtended="card-extended",t.cardOnFile="card-on-file"}(e.FormType||(e.FormType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PaymentType=void 0,function(t){t.creditCard="CreditCard"}(e.PaymentType||(e.PaymentType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormEvent=void 0,function(t){t.TOKEN_CREATION="TOKEN_CREATION",t.FORM_RESET="FORM_RESET",t.PAN_PAYLOAD="PAN_PAYLOAD",t.FORM_INITIALIZED="FORM_INITIALIZED",t.ONE_CLICK_PAYMENT_SUBMIT="ONE_CLICK_PAYMENT_SUBMIT",t.SUBMIT_CLICKED="SUBMIT_CLICKED",t.FORM_RESPONSE="FORM_RESPONSE",t.INIT_SONGBIRD="INIT_SONGBIRD",t.START_CCA="START_CCA",t.START_BIN_PROCESS="START_BIN_PROCESS",t.CONTINUE_CCA="CONTINUE_CCA"}(e.FormEvent||(e.FormEvent={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApiVersion=void 0,function(t){t.v1="V1",t.v2="V2"}(e.ApiVersion||(e.ApiVersion={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EnvironmentType=void 0,function(t){t.Sandbox="Sandbox",t.Production="Production"}(e.EnvironmentType||(e.EnvironmentType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MessageType=void 0,function(t){t.createToken="GPG_CREATE_TOKEN",t.createTokenAndShippingAddress="GPG_CREATE_TOKEN_AND_SHIPPING_ADDRESS",t.panPayload="GPG_PAN_PAYLOAD",t.oneClickPaymentSubmit="GPG_ONE_CLICK_PAY_SUBMIT",t.resetForm="GPG_RESET_FORM",t.formLoaded="GPG_FORM_LOADED",t.formSubmit="GPG_FORM_SUBMIT",t.formResponse="GPG_FORM_RESPONSE",t.initSongbird="GPG_INIT_SONGBIRD",t.startCCA="GPG_START_CCA",t.startBinProcess="GPG_START_BIN_PROCESS",t.binProcessStarted="GPG_BIN_PROCESS_STARTED",t.continueCCA="GPG_CONTINUE_CCA"}(e.MessageType||(e.MessageType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToFrameMessageType=void 0,function(t){t.frameShowSpinner="GPG_FRAME_SHOW_SPINNER",t.frameShowTokenCreatedSuccess="GPG_FRAME_CREATE_TOKEN_SUCCESS",t.frameShowTokenCreatedFailed="GPG_FRAME_CREATE_TOKEN_FAILED",t.frameResetForm="GPG_FRAME_RESET_FORM",t.frameSetBillingContact="GPG_FRAME_SET_BILLING_CONTACT",t.frameSetShippingAddress="GPG_FRAME_SET_SHIPPING_ADDRESS",t.frameSetOrderDetails="GPG_FRAME_SET_ORDER_DETAILS",t.frameSetPaymentSource="GPG_FRAME_SET_PAYMENT_SOURCE",t.frameExternalSubmit="GPG_FRAME_SUBMIT_FORM",t.frameInitCardinal="GPG_FRAME_INIT_CARDINAL",t.frameBinProcessStarted="GPG_FRAME_BIN_PROCESS_STARTED",t.frameProcessCardinalResponse="GPG_FRAME_PROCESS_CARDINAL_RESPONSE"}(e.ToFrameMessageType||(e.ToFrameMessageType={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevel=void 0,function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR"}(e.LogLevel||(e.LogLevel={}))},function(t,e,n){"use strict";var r=n(73),i=n(78),s=Object.prototype.hasOwnProperty,o={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},c=Array.isArray,u=Array.prototype.push,a=function(t,e){u.apply(t,c(e)?e:[e])},h=Date.prototype.toISOString,l=i.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:l,formatter:i.formatters[l],indices:!1,serializeDate:function(t){return h.call(t)},skipNulls:!1,strictNullHandling:!1},f=function t(e,n,i,s,o,u,h,l,f,p,b,m,g){var v,y=e;if("function"==typeof h?y=h(n,y):y instanceof Date?y=p(y):"comma"===i&&c(y)&&(y=r.maybeMap(y,(function(t){return t instanceof Date?p(t):t})).join(",")),null===y){if(s)return u&&!m?u(n,d.encoder,g,"key"):n;y=""}if("string"==typeof(v=y)||"number"==typeof v||"boolean"==typeof v||"symbol"==typeof v||"bigint"==typeof v||r.isBuffer(y))return u?[b(m?n:u(n,d.encoder,g,"key"))+"="+b(u(y,d.encoder,g,"value"))]:[b(n)+"="+b(String(y))];var w,S=[];if(void 0===y)return S;if(c(h))w=h;else{var x=Object.keys(y);w=l?x.sort(l):x}for(var _=0;_<w.length;++_){var E=w[_],T=y[E];if(!o||null!==T){var O=c(y)?"function"==typeof i?i(n,E):n:n+(f?"."+E:"["+E+"]");a(S,t(T,O,i,s,o,u,h,l,f,p,b,m,g))}}return S};t.exports=function(t,e){var n,r=t,u=function(t){if(!t)return d;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||d.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==t.format){if(!s.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var r=i.formatters[n],o=d.filter;return("function"==typeof t.filter||c(t.filter))&&(o=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===t.allowDots?d.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:d.charsetSentinel,delimiter:void 0===t.delimiter?d.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:d.encode,encoder:"function"==typeof t.encoder?t.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:d.encodeValuesOnly,filter:o,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:d.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:d.strictNullHandling}}(e);"function"==typeof u.filter?r=(0,u.filter)("",r):c(u.filter)&&(n=u.filter);var h,l=[];if("object"!=typeof r||null===r)return"";h=e&&e.arrayFormat in o?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var p=o[h];n||(n=Object.keys(r)),u.sort&&n.sort(u.sort);for(var b=0;b<n.length;++b){var m=n[b];u.skipNulls&&null===r[m]||a(l,f(r[m],m,p,u.strictNullHandling,u.skipNulls,u.encode?u.encoder:null,u.filter,u.sort,u.allowDots,u.serializeDate,u.formatter,u.encodeValuesOnly,u.charset))}var g=l.join(u.delimiter),v=!0===u.addQueryPrefix?"?":"";return u.charsetSentinel&&("iso-8859-1"===u.charset?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),g.length>0?v+g:""}},function(t,e,n){"use strict";var r=n(73),i=Object.prototype.hasOwnProperty,s=Array.isArray,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},c=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},u=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},a=function(t,e,n,r){if(t){var s=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,c=n.depth>0&&/(\[[^[\]]*])/.exec(s),a=c?s.slice(0,c.index):s,h=[];if(a){if(!n.plainObjects&&i.call(Object.prototype,a)&&!n.allowPrototypes)return;h.push(a)}for(var l=0;n.depth>0&&null!==(c=o.exec(s))&&l<n.depth;){if(l+=1,!n.plainObjects&&i.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;h.push(c[1])}return c&&h.push("["+s.slice(c.index)+"]"),function(t,e,n,r){for(var i=r?e:u(e,n),s=t.length-1;s>=0;--s){var o,c=t[s];if("[]"===c&&n.parseArrays)o=[].concat(i);else{o=n.plainObjects?Object.create(null):{};var a="["===c.charAt(0)&&"]"===c.charAt(c.length-1)?c.slice(1,-1):c,h=parseInt(a,10);n.parseArrays||""!==a?!isNaN(h)&&c!==a&&String(h)===a&&h>=0&&n.parseArrays&&h<=n.arrayLimit?(o=[])[h]=i:o[a]=i:o={0:i}}i=o}return i}(h,e,n,r)}};t.exports=function(t,e){var n=function(t){if(!t)return o;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?o.charset:t.charset;return{allowDots:void 0===t.allowDots?o.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:o.allowPrototypes,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:o.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:o.comma,decoder:"function"==typeof t.decoder?t.decoder:o.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:o.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:o.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:o.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:o.strictNullHandling}}(e);if(""===t||null==t)return n.plainObjects?Object.create(null):{};for(var h="string"==typeof t?function(t,e){var n,a={},h=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,l=e.parameterLimit===1/0?void 0:e.parameterLimit,d=h.split(e.delimiter,l),f=-1,p=e.charset;if(e.charsetSentinel)for(n=0;n<d.length;++n)0===d[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===d[n]?p="utf-8":"utf8=%26%2310003%3B"===d[n]&&(p="iso-8859-1"),f=n,n=d.length);for(n=0;n<d.length;++n)if(n!==f){var b,m,g=d[n],v=g.indexOf("]="),y=-1===v?g.indexOf("="):v+1;-1===y?(b=e.decoder(g,o.decoder,p,"key"),m=e.strictNullHandling?null:""):(b=e.decoder(g.slice(0,y),o.decoder,p,"key"),m=r.maybeMap(u(g.slice(y+1),e),(function(t){return e.decoder(t,o.decoder,p,"value")}))),m&&e.interpretNumericEntities&&"iso-8859-1"===p&&(m=c(m)),g.indexOf("[]=")>-1&&(m=s(m)?[m]:m),i.call(a,b)?a[b]=r.combine(a[b],m):a[b]=m}return a}(t,n):t,l=n.plainObjects?Object.create(null):{},d=Object.keys(h),f=0;f<d.length;++f){var p=d[f],b=a(p,h[p],n,"string"==typeof t);l=r.merge(l,b,n)}return r.compact(l)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormEventHandlersFacade=void 0;const r=n(13),i=n(142),s=n(144),o=n(25),c=n(54);e.FormEventHandlersFacade=class{constructor(t=o.ApiVersion.v2){this.log=c.LoggerService.getInstance(),this.messageHandlers=(t,e)=>({[o.MessageType.createToken]:()=>this.frameEventHandlers.createTokenHandler(t,e),[o.MessageType.oneClickPaymentSubmit]:()=>this.frameEventHandlers.receiveAliasAndShippingAddress(t,e),[o.MessageType.resetForm]:()=>!0,[o.MessageType.panPayload]:()=>this.frameEventHandlers.receivePANPayload(t,e),[o.MessageType.formLoaded]:()=>this.frameEventHandlers.formLoaded(t,e),[o.MessageType.formSubmit]:()=>this.frameEventHandlers.formSubmit(t,e),[o.MessageType.formResponse]:()=>this.frameEventHandlers.formResponse(t,e),[o.MessageType.initSongbird]:()=>this.frameEventHandlers.initSongbird(t,e),[o.MessageType.startBinProcess]:()=>this.frameEventHandlers.startBinProcess(t,e),[o.MessageType.continueCCA]:()=>this.frameEventHandlers.continueCCA(t,e)}),this.handleMessage=(t,e)=>r.__awaiter(this,void 0,void 0,(function*(){return yield this.messageHandlers(t,e)[e.type]()})),this.initializeHandlers(t)}initializeHandlers(t){switch(t){case o.ApiVersion.v1:this.frameEventHandlers=new s.FrameEventHandlersV1;break;case o.ApiVersion.v2:this.frameEventHandlers=new i.FrameEventHandlersV2}}getFormEvent(t){return this.frameEventHandlers.getFormEventByMessageType(t)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FrameEventHandlersV2=void 0;const r=n(79),i=n(25),s=n(74);class o extends r.FrameEventHandlers{constructor(){super({[i.MessageType.createToken]:i.FormEvent.TOKEN_CREATION,[i.MessageType.oneClickPaymentSubmit]:i.FormEvent.ONE_CLICK_PAYMENT_SUBMIT,[i.MessageType.panPayload]:i.FormEvent.PAN_PAYLOAD,[i.MessageType.resetForm]:i.FormEvent.FORM_RESET,[i.MessageType.formLoaded]:i.FormEvent.FORM_INITIALIZED,[i.MessageType.formSubmit]:i.FormEvent.SUBMIT_CLICKED,[i.MessageType.formResponse]:i.FormEvent.FORM_RESPONSE,[i.MessageType.initSongbird]:i.FormEvent.INIT_SONGBIRD,[i.MessageType.startBinProcess]:i.FormEvent.START_BIN_PROCESS,[i.MessageType.continueCCA]:i.FormEvent.CONTINUE_CCA})}createTokenHandler(t,e){if(e.success)return e.message;throw e.message}receivePANPayload(t,e){if(e.success)return e.message;throw e.message}receiveAliasAndShippingAddress(t,e){if(e.success)return e.message;throw e.message}formLoaded(t,e){if(e.success)return e.message;throw e.message}formSubmit(t,e){return!0}formResponse(t,e){if(e.success)return e.message;throw{message:e.message}}initSongbird(t,e){this.log.debug("Initializing Songbird"),(null==e?void 0:e.message)&&s.ExternalService.initSongbird(t,e)}startCCA(t,e){this.log.debug("Starting 3DS process"),(null==e?void 0:e.message)&&s.ExternalService.startCCA(null==e?void 0:e.message)}startBinProcess(t,e){(null==e?void 0:e.message)&&s.ExternalService.startBinProcess(null==e?void 0:e.message).then(n=>{this.frameCommunicator.sendMessageToFrame(t,{type:i.ToFrameMessageType.frameBinProcessStarted,message:n,success:!0,frameUUID:e.frameUUID})}).catch(t=>this.log.error(t))}continueCCA(t,e){this.log.debug("Continuing with 3DS process"),(null==e?void 0:e.message)&&s.ExternalService.continueCCA(null==e?void 0:e.message.continueRequest,null==e?void 0:e.message.order)}}e.FrameEventHandlersV2=o},function(t){t.exports=JSON.parse('{"name":"@globallypaid/js-sdk","version":"3.1.0","author":{"name":"Globall Payroll Gateway","email":"engineering@gpgway.com","url":"https://www.globallypaid.com"}}')},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FrameEventHandlersV1=void 0;const r=n(79),i=n(25);class s extends r.FrameEventHandlers{constructor(){super({[i.MessageType.createToken]:i.FormEvent.TOKEN_CREATION,[i.MessageType.resetForm]:i.FormEvent.FORM_RESET,[i.MessageType.panPayload]:i.FormEvent.PAN_PAYLOAD,[i.MessageType.formLoaded]:i.FormEvent.FORM_INITIALIZED,[i.MessageType.formSubmit]:i.FormEvent.SUBMIT_CLICKED,[i.MessageType.formResponse]:i.FormEvent.FORM_RESPONSE})}createTokenHandler(t,e){if(e.success)return e.message;throw e.message}receivePANPayload(t,e){if(e.success)return e.message;throw e.message}receiveAliasAndShippingAddress(t,e){if(e.success)return e.message;throw e.message}formLoaded(t,e){if(e.success)return e.message;throw e.message}formSubmit(t,e){return!0}formResponse(t,e){if(e.success)return e.message;throw{message:e.message}}initSongbird(t,e){}startCCA(t,e){}startBinProcess(t,e){}continueCCA(t,e){}}e.FrameEventHandlersV1=s},function(t,e,n){t.exports=n(146)},function(t,e,n){var r=n(147);e.iframeResize=r,e.iframeResizer=r,e.iframeResizerContentWindow=n(148)},function(t,e,n){var r,i,s;!function(n){if("undefined"!=typeof window){var o,c=0,u=!1,a=!1,h="message".length,l="[iFrameSizer]",d=l.length,f=null,p=window.requestAnimationFrame,b={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},m={},g=null,v={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){j("onMessage function not defined")},onResized:function(){},onScroll:function(){return!0}},y={};window.jQuery&&((o=window.jQuery).fn?o.fn.iFrameResize||(o.fn.iFrameResize=function(t){return this.filter("iframe").each((function(e,n){U(n,t)})).end()}):O("","Unable to bind to jQuery, it is not fully loaded.")),i=[],void 0===(s="function"==typeof(r=G)?r.apply(e,i):r)||(t.exports=s),window.iFrameResize=window.iFrameResize||G()}function w(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function S(t,e,n){t.addEventListener(e,n,!1)}function x(t,e,n){t.removeEventListener(e,n,!1)}function _(t){return l+"["+function(t){var e="Host page: "+t;return window.top!==window.self&&(e=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+t:"Nested host page: "+t),e}(t)+"]"}function E(t){return m[t]?m[t].log:u}function T(t,e){I("log",t,e,E(t))}function O(t,e){I("info",t,e,E(t))}function j(t,e){I("warn",t,e,!0)}function I(t,e,n,r){!0===r&&"object"==typeof window.console&&console[t](_(e),n)}function N(t){function e(){i("Height"),i("Width"),k((function(){V(N),D(P),p("onResized",N)}),N,"init")}function n(t){return"border-box"!==t.boxSizing?0:(t.paddingTop?parseInt(t.paddingTop,10):0)+(t.paddingBottom?parseInt(t.paddingBottom,10):0)}function r(t){return"border-box"!==t.boxSizing?0:(t.borderTopWidth?parseInt(t.borderTopWidth,10):0)+(t.borderBottomWidth?parseInt(t.borderBottomWidth,10):0)}function i(t){var e=Number(m[P]["max"+t]),n=Number(m[P]["min"+t]),r=t.toLowerCase(),i=Number(N[r]);T(P,"Checking "+r+" is in range "+n+"-"+e),i<n&&(i=n,T(P,"Set "+r+" to min value")),i>e&&(i=e,T(P,"Set "+r+" to max value")),N[r]=""+i}function s(t){return I.substr(I.indexOf(":")+h+t)}function o(t,e){var n,r,i;n=function(){var n,r;B("Send Page Info","pageInfo:"+(n=document.body.getBoundingClientRect(),r=N.iframe.getBoundingClientRect(),JSON.stringify({iframeHeight:r.height,iframeWidth:r.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(r.top-n.top,10),offsetLeft:parseInt(r.left-n.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})),t,e)},r=32,y[i=e]||(y[i]=setTimeout((function(){y[i]=null,n()}),r))}function c(t){var e=t.getBoundingClientRect();return A(P),{x:Math.floor(Number(e.left)+Number(f.x)),y:Math.floor(Number(e.top)+Number(f.y))}}function u(t){var e=t?c(N.iframe):{x:0,y:0},n={x:Number(N.width)+e.x,y:Number(N.height)+e.y};T(P,"Reposition requested from iFrame (offset x:"+e.x+" y:"+e.y+")"),window.top!==window.self?window.parentIFrame?window.parentIFrame["scrollTo"+(t?"Offset":"")](n.x,n.y):j(P,"Unable to scroll to requested position, window.parentIFrame not found"):(f=n,a(),T(P,"--"))}function a(){!1!==p("onScroll",f)?D(P):M()}function p(t,e){return C(P,t,e)}var b,g,v,w,_,E,I=t.data,N={},P=null;"[iFrameResizerChild]Ready"===I?function(){for(var t in m)B("iFrame requested init",L(t),m[t].iframe,t)}():l===(""+I).substr(0,d)&&I.substr(d).split(":")[0]in m?(v=I.substr(d).split(":"),w=v[1]?parseInt(v[1],10):0,_=m[v[0]]&&m[v[0]].iframe,E=getComputedStyle(_),N={iframe:_,id:v[0],height:w+n(E)+r(E),width:v[2],type:v[3]},P=N.id,m[P]&&(m[P].loaded=!0),(g=N.type in{true:1,false:1,undefined:1})&&T(P,"Ignoring init message from meta parent page"),!g&&function(t){var e=!0;return m[t]||(e=!1,j(N.type+" No settings for "+t+". Message was: "+I)),e}(P)&&(T(P,"Received: "+I),b=!0,null===N.iframe&&(j(P,"IFrame ("+N.id+") not found"),b=!1),b&&function(){var e,n=t.origin,r=m[P]&&m[P].checkOrigin;if(r&&""+n!="null"&&!(r.constructor===Array?function(){var t=0,e=!1;for(T(P,"Checking connection is from allowed list of origins: "+r);t<r.length;t++)if(r[t]===n){e=!0;break}return e}():(e=m[P]&&m[P].remoteHost,T(P,"Checking connection is from: "+e),n===e)))throw new Error("Unexpected message received from: "+n+" for "+N.iframe.id+". Message was: "+t.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(m[P]&&m[P].firstRun&&m[P]&&(m[P].firstRun=!1),N.type){case"close":R(N.iframe);break;case"message":t=s(6),T(P,"onMessage passed: {iframe: "+N.iframe.id+", message: "+t+"}"),p("onMessage",{iframe:N.iframe,message:JSON.parse(t)}),T(P,"--");break;case"autoResize":m[P].autoResize=JSON.parse(s(9));break;case"scrollTo":u(!1);break;case"scrollToOffset":u(!0);break;case"pageInfo":o(m[P]&&m[P].iframe,P),function(){function t(t,r){function i(){m[n]?o(m[n].iframe,n):e()}["scroll","resize"].forEach((function(e){T(n,t+e+" listener for sendPageInfo"),r(window,e,i)}))}function e(){t("Remove ",x)}var n=P;t("Add ",S),m[n]&&(m[n].stopPageInfo=e)}();break;case"pageInfoStop":m[P]&&m[P].stopPageInfo&&(m[P].stopPageInfo(),delete m[P].stopPageInfo);break;case"inPageLink":!function(t){var e,n=t.split("#")[1]||"",r=decodeURIComponent(n),i=document.getElementById(r)||document.getElementsByName(r)[0];i?(e=c(i),T(P,"Moving to in page link (#"+n+") at x: "+e.x+" y: "+e.y),f={x:e.x,y:e.y},a(),T(P,"--")):window.top!==window.self?window.parentIFrame?window.parentIFrame.moveToAnchor(n):T(P,"In page link #"+n+" not found and window.parentIFrame not found"):T(P,"In page link #"+n+" not found")}(s(9));break;case"reset":F(N);break;case"init":e(),p("onInit",N.iframe);break;default:e()}var t}())):O(P,"Ignored: "+I)}function C(t,e,n){var r=null,i=null;if(m[t]){if("function"!=typeof(r=m[t][e]))throw new TypeError(e+" on iFrame["+t+"] is not a function");i=r(n)}return i}function P(t){var e=t.id;delete m[e]}function R(t){var e=t.id;if(!1!==C(e,"onClose",e)){T(e,"Removing iFrame: "+e);try{t.parentNode&&t.parentNode.removeChild(t)}catch(t){j(t)}C(e,"onClosed",e),T(e,"--"),P(t)}else T(e,"Close iframe cancelled by onClose event")}function A(t){null===f&&T(t,"Get page position: "+(f={x:void 0!==window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop}).x+","+f.y)}function D(t){null!==f&&(window.scrollTo(f.x,f.y),T(t,"Set page position: "+f.x+","+f.y),M())}function M(){f=null}function F(t){T(t.id,"Size reset requested by "+("init"===t.type?"host page":"iFrame")),A(t.id),k((function(){V(t),B("reset","reset",t.iframe,t.id)}),t,"reset")}function V(t){function e(e){a||"0"!==t[e]||(a=!0,T(r,"Hidden iFrame detected, creating visibility listener"),function(){function t(){Object.keys(m).forEach((function(t){!function(t){function e(e){return"0px"===(m[t]&&m[t].iframe.style[e])}m[t]&&null!==m[t].iframe.offsetParent&&(e("height")||e("width"))&&B("Visibility change","resize",m[t].iframe,t)}(t)}))}function e(e){T("window","Mutation observed: "+e[0].target+" "+e[0].type),H(t,16)}var n=w();n&&(r=document.querySelector("body"),new n(e).observe(r,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}));var r}())}function n(n){!function(e){t.id?(t.iframe.style[e]=t[e]+"px",T(t.id,"IFrame ("+r+") "+e+" set to "+t[e]+"px")):T("undefined","messageData id not set")}(n),e(n)}var r=t.iframe.id;m[r]&&(m[r].sizeHeight&&n("height"),m[r].sizeWidth&&n("width"))}function k(t,e,n){n!==e.type&&p&&!window.jasmine?(T(e.id,"Requesting animation frame"),p(t)):t()}function B(t,e,n,r,i){var s,o=!1;r=r||n.id,m[r]&&(n&&"contentWindow"in n&&null!==n.contentWindow?(s=m[r]&&m[r].targetOrigin,T(r,"["+t+"] Sending msg to iframe["+r+"] ("+e+") targetOrigin: "+s),n.contentWindow.postMessage(l+e,s)):j(r,"["+t+"] IFrame("+r+") not found"),i&&m[r]&&m[r].warningTimeout&&(m[r].msgTimeout=setTimeout((function(){!m[r]||m[r].loaded||o||(o=!0,j(r,"IFrame has not responded within "+m[r].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}),m[r].warningTimeout)))}function L(t){return t+":"+m[t].bodyMarginV1+":"+m[t].sizeWidth+":"+m[t].log+":"+m[t].interval+":"+m[t].enablePublicMethods+":"+m[t].autoResize+":"+m[t].bodyMargin+":"+m[t].heightCalculationMethod+":"+m[t].bodyBackground+":"+m[t].bodyPadding+":"+m[t].tolerance+":"+m[t].inPageLinks+":"+m[t].resizeFrom+":"+m[t].widthCalculationMethod}function U(t,e){function n(t){var e=t.split("Callback");if(2===e.length){var n="on"+e[0].charAt(0).toUpperCase()+e[0].slice(1);this[n]=this[t],delete this[t],j(s,"Deprecated: '"+t+"' has been renamed '"+n+"'. The old method will be removed in the next major version.")}}var r,i,s=function(n){var r;return""===n&&(t.id=(r=e&&e.id||v.id+c++,null!==document.getElementById(r)&&(r+=c++),n=r),u=(e||{}).log,T(n,"Added missing iframe ID: "+n+" ("+t.src+")")),n}(t.id);s in m&&"iFrameResizer"in t?j(s,"Ignored iFrame, already setup."):(!function(e){var r;e=e||{},m[s]={firstRun:!0,iframe:t,remoteHost:t.src&&t.src.split("/").slice(0,3).join("/")},function(t){if("object"!=typeof t)throw new TypeError("Options is not an object")}(e),Object.keys(e).forEach(n,e),function(t){for(var e in v)Object.prototype.hasOwnProperty.call(v,e)&&(m[s][e]=Object.prototype.hasOwnProperty.call(t,e)?t[e]:v[e])}(e),m[s]&&(m[s].targetOrigin=!0===m[s].checkOrigin?""===(r=m[s].remoteHost)||null!==r.match(/^(about:blank|javascript:|file:\/\/)/)?"*":r:"*")}(e),function(){switch(T(s,"IFrame scrolling "+(m[s]&&m[s].scrolling?"enabled":"disabled")+" for "+s),t.style.overflow=!1===(m[s]&&m[s].scrolling)?"hidden":"auto",m[s]&&m[s].scrolling){case"omit":break;case!0:t.scrolling="yes";break;case!1:t.scrolling="no";break;default:t.scrolling=m[s]?m[s].scrolling:"no"}}(),function(){function e(e){1/0!==m[s][e]&&0!==m[s][e]&&(t.style[e]=m[s][e]+"px",T(s,"Set "+e+" = "+m[s][e]+"px"))}function n(t){if(m[s]["min"+t]>m[s]["max"+t])throw new Error("Value for min"+t+" can not be greater than max"+t)}n("Height"),n("Width"),e("maxHeight"),e("minHeight"),e("maxWidth"),e("minWidth")}(),"number"!=typeof(m[s]&&m[s].bodyMargin)&&"0"!==(m[s]&&m[s].bodyMargin)||(m[s].bodyMarginV1=m[s].bodyMargin,m[s].bodyMargin=m[s].bodyMargin+"px"),r=L(s),(i=w())&&function(e){t.parentNode&&new e((function(e){e.forEach((function(e){Array.prototype.slice.call(e.removedNodes).forEach((function(e){e===t&&R(t)}))}))})).observe(t.parentNode,{childList:!0})}(i),S(t,"load",(function(){var e,n;B("iFrame.onload",r,t,void 0,!0),e=m[s]&&m[s].firstRun,n=m[s]&&m[s].heightCalculationMethod in b,!e&&n&&F({iframe:t,height:0,width:0,type:"init"})})),B("init",r,t,void 0,!0),m[s]&&(m[s].iframe.iFrameResizer={close:R.bind(null,m[s].iframe),removeListeners:P.bind(null,m[s].iframe),resize:B.bind(null,"Window resize","resize",m[s].iframe),moveToAnchor:function(t){B("Move to anchor","moveToAnchor:"+t,m[s].iframe,s)},sendMessage:function(t){B("Send Message","message:"+(t=JSON.stringify(t)),m[s].iframe,s)}}))}function H(t,e){null===g&&(g=setTimeout((function(){g=null,t()}),e))}function z(){"hidden"!==document.visibilityState&&(T("document","Trigger event: Visiblity change"),H((function(){q("Tab Visable","resize")}),16))}function q(t,e){Object.keys(m).forEach((function(n){(function(t){return m[t]&&"parent"===m[t].resizeFrom&&m[t].autoResize&&!m[t].firstRun})(n)&&B(t,e,m[n].iframe,n)}))}function K(){S(window,"message",N),S(window,"resize",(function(){var t;T("window","Trigger event: "+(t="resize")),H((function(){q("Window "+t,"resize")}),16)})),S(document,"visibilitychange",z),S(document,"-webkit-visibilitychange",z)}function G(){function t(t,n){n&&(!function(){if(!n.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==n.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+n.tagName+">")}(),U(n,t),e.push(n))}var e;return function(){var t,e=["moz","webkit","o","ms"];for(t=0;t<e.length&&!p;t+=1)p=window[e[t]+"RequestAnimationFrame"];p?p=p.bind(window):T("setup","RequestAnimationFrame not supported")}(),K(),function(n,r){switch(e=[],function(t){t&&t.enablePublicMethods&&j("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(n),typeof r){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(r||"iframe"),t.bind(void 0,n));break;case"object":t(n,r);break;default:throw new TypeError("Unexpected data type ("+typeof r+")")}return e}}}()},function(t,e,n){!function(e){if("undefined"!=typeof window){var n=!0,r="",i=0,s="",o=null,c="",u=!1,a={resize:1,click:1},h=!0,l=1,d="bodyOffset",f=!0,p="",b={},m=32,g=null,v=!1,y="[iFrameSizer]",w=y.length,S="",x={max:1,min:1,bodyScroll:1,documentElementScroll:1},_="child",E=window.parent,T="*",O=0,j=!1,I=null,N=16,C=1,P="scroll",R=window,A=function(){nt("onMessage function not defined")},D=function(){},M=function(){},F={height:function(){return nt("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return nt("Custom width calculation function not defined"),document.body.scrollWidth}},V={},k=!1;try{var B=Object.create({},{passive:{get:function(){k=!0}}});window.addEventListener("test",Z,B),window.removeEventListener("test",Z,B)}catch(t){}var L,U,H,z,q,K,G,W=Date.now||function(){return(new Date).getTime()},Y={bodyOffset:function(){return document.body.offsetHeight+ft("marginTop")+ft("marginBottom")},offset:function(){return Y.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return F.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,bt(Y))},min:function(){return Math.min.apply(null,bt(Y))},grow:function(){return Y.max()},lowestElement:function(){return Math.max(Y.bodyOffset()||Y.documentElementOffset(),pt("bottom",gt()))},taggedElement:function(){return mt("bottom","data-iframe-height")}},$={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return F.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max($.bodyScroll(),$.documentElementScroll())},max:function(){return Math.max.apply(null,bt($))},min:function(){return Math.min.apply(null,bt($))},rightMostElement:function(){return pt("right",gt())},taggedElement:function(){return mt("right","data-iframe-width")}},J=(L=vt,q=null,K=0,G=function(){K=W(),q=null,z=L.apply(U,H),q||(U=H=null)},function(){var t=W();K||(K=t);var e=N-(t-K);return U=this,H=arguments,e<=0||e>N?(q&&(clearTimeout(q),q=null),K=t,z=L.apply(U,H),q||(U=H=null)):q||(q=setTimeout(G,e)),z});Q(window,"message",(function(e){var n={init:function(){p=e.data,E=e.source,rt(),h=!1,setTimeout((function(){f=!1}),128)},reset:function(){f?et("Page reset ignored by init"):(et("Page size reset by host page"),St("resetPage"))},resize:function(){yt("resizeParent","Parent window requested size check")},moveToAnchor:function(){b.findTarget(i())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var t=i();et("PageInfoFromParent called from parent: "+t),M(JSON.parse(t)),et(" --")},message:function(){var t=i();et("onMessage called from parent: "+t),A(JSON.parse(t)),et(" --")}};function r(){return e.data.split("]")[1].split(":")[0]}function i(){return e.data.substr(e.data.indexOf(":")+1)}function s(){return e.data.split(":")[2]in{true:1,false:1}}function o(){var i=r();i in n?n[i]():!t.exports&&"iFrameResize"in window||"jQuery"in window&&"iFrameResize"in window.jQuery.prototype||s()||nt("Unexpected message ("+e.data+")")}y===(""+e.data).substr(0,w)&&(!1===h?o():s()?n.init():et('Ignored message of type "'+r()+'". Received before initialization.'))})),Q(window,"readystatechange",Et),Et()}function Z(){}function Q(t,e,n,r){t.addEventListener(e,n,!!k&&(r||{}))}function X(t){return t.charAt(0).toUpperCase()+t.slice(1)}function tt(t){return y+"["+S+"] "+t}function et(t){v&&"object"==typeof window.console&&console.log(tt(t))}function nt(t){"object"==typeof window.console&&console.warn(tt(t))}function rt(){var t;!function(){function t(t){return"true"===t}var e=p.substr(w).split(":");S=e[0],i=void 0!==e[1]?Number(e[1]):i,u=void 0!==e[2]?t(e[2]):u,v=void 0!==e[3]?t(e[3]):v,m=void 0!==e[4]?Number(e[4]):m,n=void 0!==e[6]?t(e[6]):n,s=e[7],d=void 0!==e[8]?e[8]:d,r=e[9],c=e[10],O=void 0!==e[11]?Number(e[11]):O,b.enable=void 0!==e[12]&&t(e[12]),_=void 0!==e[13]?e[13]:_,P=void 0!==e[14]?e[14]:P}(),et("Initialising iFrame ("+location.href+")"),function(){function t(t,e){return"function"==typeof t&&(et("Setup custom "+e+"CalcMethod"),F[e]=t,t="custom"),t}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(e=window.iFrameResizer,et("Reading data from page: "+JSON.stringify(e)),Object.keys(e).forEach(it,e),A="onMessage"in e?e.onMessage:A,D="onReady"in e?e.onReady:D,T="targetOrigin"in e?e.targetOrigin:T,d="heightCalculationMethod"in e?e.heightCalculationMethod:d,P="widthCalculationMethod"in e?e.widthCalculationMethod:P,d=t(d,"height"),P=t(P,"width"));var e;et("TargetOrigin for parent set to: "+T)}(),function(){void 0===s&&(s=i+"px");st("margin",function(t,e){-1!==e.indexOf("-")&&(nt("Negative CSS value ignored for "+t),e="");return e}("margin",s))}(),st("background",r),st("padding",c),(t=document.createElement("div")).style.clear="both",t.style.display="block",t.style.height="0",document.body.appendChild(t),at(),ht(),document.documentElement.style.height="",document.body.style.height="",et('HTML & body height set to "auto"'),et("Enable public methods"),R.parentIFrame={autoResize:function(t){return!0===t&&!1===n?(n=!0,lt()):!1===t&&!0===n&&(n=!1,ct("remove"),null!==o&&o.disconnect(),clearInterval(g)),_t(0,0,"autoResize",JSON.stringify(n)),n},close:function(){_t(0,0,"close")},getId:function(){return S},getPageInfo:function(t){"function"==typeof t?(M=t,_t(0,0,"pageInfo")):(M=function(){},_t(0,0,"pageInfoStop"))},moveToAnchor:function(t){b.findTarget(t)},reset:function(){xt("parentIFrame.reset")},scrollTo:function(t,e){_t(e,t,"scrollTo")},scrollToOffset:function(t,e){_t(e,t,"scrollToOffset")},sendMessage:function(t,e){_t(0,0,"message",JSON.stringify(t),e)},setHeightCalculationMethod:function(t){d=t,at()},setWidthCalculationMethod:function(t){P=t,ht()},setTargetOrigin:function(t){et("Set targetOrigin: "+t),T=t},size:function(t,e){yt("size","parentIFrame.size("+(t||"")+(e?","+e:"")+")",t,e)}},lt(),b=function(){function t(t){var e=t.getBoundingClientRect(),n={x:void 0!==window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop};return{x:parseInt(e.left,10)+parseInt(n.x,10),y:parseInt(e.top,10)+parseInt(n.y,10)}}function e(e){var n=e.split("#")[1]||e,r=decodeURIComponent(n),i=document.getElementById(r)||document.getElementsByName(r)[0];void 0!==i?function(e){var r=t(e);et("Moving to in page link (#"+n+") at x: "+r.x+" y: "+r.y),_t(r.y,r.x,"scrollToOffset")}(i):(et("In page link (#"+n+") not found in iFrame, so sending to parent"),_t(0,0,"inPageLink","#"+n))}function n(){""!==location.hash&&"#"!==location.hash&&e(location.href)}b.enable?Array.prototype.forEach&&document.querySelectorAll?(et("Setting up location.hash handlers"),Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),(function(t){"#"!==t.getAttribute("href")&&Q(t,"click",(function(t){t.preventDefault(),e(this.getAttribute("href"))}))})),Q(window,"hashchange",n),setTimeout(n,128)):nt("In page linking not fully supported in this browser! (See README.md for IE8 workaround)"):et("In page linking not enabled");return{findTarget:e}}(),yt("init","Init message from host page"),D()}function it(t){var e=t.split("Callback");if(2===e.length){var n="on"+e[0].charAt(0).toUpperCase()+e[0].slice(1);this[n]=this[t],delete this[t],nt("Deprecated: '"+t+"' has been renamed '"+n+"'. The old method will be removed in the next major version.")}}function st(t,e){void 0!==e&&""!==e&&"null"!==e&&(document.body.style[t]=e,et("Body "+t+' set to "'+e+'"'))}function ot(t){var e={add:function(e){function n(){yt(t.eventName,t.eventType)}V[e]=n,Q(window,e,n,{passive:!0})},remove:function(t){var e,n,r,i=V[t];delete V[t],e=window,n=t,r=i,e.removeEventListener(n,r,!1)}};t.eventNames&&Array.prototype.map?(t.eventName=t.eventNames[0],t.eventNames.map(e[t.method])):e[t.method](t.eventName),et(X(t.method)+" event listener: "+t.eventType)}function ct(t){ot({method:t,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),ot({method:t,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),ot({method:t,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),ot({method:t,eventType:"Input",eventName:"input"}),ot({method:t,eventType:"Mouse Up",eventName:"mouseup"}),ot({method:t,eventType:"Mouse Down",eventName:"mousedown"}),ot({method:t,eventType:"Orientation Change",eventName:"orientationchange"}),ot({method:t,eventType:"Print",eventName:["afterprint","beforeprint"]}),ot({method:t,eventType:"Ready State Change",eventName:"readystatechange"}),ot({method:t,eventType:"Touch Start",eventName:"touchstart"}),ot({method:t,eventType:"Touch End",eventName:"touchend"}),ot({method:t,eventType:"Touch Cancel",eventName:"touchcancel"}),ot({method:t,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),ot({method:t,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),ot({method:t,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===_&&ot({method:t,eventType:"IFrame Resized",eventName:"resize"})}function ut(t,e,n,r){return e!==t&&(t in n||(nt(t+" is not a valid option for "+r+"CalculationMethod."),t=e),et(r+' calculation method set to "'+t+'"')),t}function at(){d=ut(d,"bodyOffset",Y,"height")}function ht(){P=ut(P,"scroll",$,"width")}function lt(){var t;!0===n?(ct("add"),t=0>m,window.MutationObserver||window.WebKitMutationObserver?t?dt():o=function(){function t(t){function e(t){!1===t.complete&&(et("Attach listeners to "+t.src),t.addEventListener("load",r,!1),t.addEventListener("error",i,!1),o.push(t))}"attributes"===t.type&&"src"===t.attributeName?e(t.target):"childList"===t.type&&Array.prototype.forEach.call(t.target.querySelectorAll("img"),e)}function e(t){et("Remove listeners from "+t.src),t.removeEventListener("load",r,!1),t.removeEventListener("error",i,!1),function(t){o.splice(o.indexOf(t),1)}(t)}function n(t,n,r){e(t.target),yt(n,r+": "+t.target.src,void 0,void 0)}function r(t){n(t,"imageLoad","Image loaded")}function i(t){n(t,"imageLoadFailed","Image load failed")}function s(e){yt("mutationObserver","mutationObserver: "+e[0].target+" "+e[0].type),e.forEach(t)}var o=[],c=window.MutationObserver||window.WebKitMutationObserver,u=function(){var t=document.querySelector("body");return u=new c(s),et("Create body MutationObserver"),u.observe(t,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),u}();return{disconnect:function(){"disconnect"in u&&(et("Disconnect body MutationObserver"),u.disconnect(),o.forEach(e))}}}():(et("MutationObserver not supported in this browser!"),dt())):et("Auto Resize disabled")}function dt(){0!==m&&(et("setInterval: "+m+"ms"),g=setInterval((function(){yt("interval","setInterval: "+m)}),Math.abs(m)))}function ft(t,e){var n=0;return e=e||document.body,n=null!==(n=document.defaultView.getComputedStyle(e,null))?n[t]:0,parseInt(n,10)}function pt(t,e){for(var n=e.length,r=0,i=0,s=X(t),o=W(),c=0;c<n;c++)(r=e[c].getBoundingClientRect()[t]+ft("margin"+s,e[c]))>i&&(i=r);return o=W()-o,et("Parsed "+n+" HTML elements"),et("Element position calculated in "+o+"ms"),function(t){t>N/2&&et("Event throttle increased to "+(N=2*t)+"ms")}(o),i}function bt(t){return[t.bodyOffset(),t.bodyScroll(),t.documentElementOffset(),t.documentElementScroll()]}function mt(t,e){var n=document.querySelectorAll("["+e+"]");return 0===n.length&&(nt("No tagged elements ("+e+") found on page"),document.querySelectorAll("body *")),pt(t,n)}function gt(){return document.querySelectorAll("body *")}function vt(t,e,n,r){var i,s;!function(){function t(t,e){return!(Math.abs(t-e)<=O)}return i=void 0!==n?n:Y[d](),s=void 0!==r?r:$[P](),t(l,i)||u&&t(C,s)}()&&"init"!==t?!(t in{init:1,interval:1,size:1})&&(d in x||u&&P in x)?xt(e):t in{interval:1}||et("No change in size detected"):(wt(),_t(l=i,C=s,t))}function yt(t,e,n,r){j&&t in a?et("Trigger event cancelled: "+t):(t in{reset:1,resetPage:1,init:1}||et("Trigger event: "+e),"init"===t?vt(t,e,n,r):J(t,e,n,r))}function wt(){j||(j=!0,et("Trigger event lock on")),clearTimeout(I),I=setTimeout((function(){j=!1,et("Trigger event lock off"),et("--")}),128)}function St(t){l=Y[d](),C=$[P](),_t(l,C,t)}function xt(t){var e=d;d="bodyOffset",et("Reset trigger event: "+t),wt(),St("reset"),d=e}function _t(t,e,n,r,i){var s;void 0===i?i=T:et("Message targetOrigin: "+i),et("Sending message to host page ("+(s=S+":"+t+":"+e+":"+n+(void 0!==r?":"+r:""))+")"),E.postMessage(y+s,i)}function Et(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}}()},function(t,e,n){"use strict";var r=n(18),i=n(81),s=n(150),o=n(87);function c(t){var e=new s(t),n=i(s.prototype.request,e);return r.extend(n,s.prototype,e),r.extend(n,e),n}var u=c(n(84));u.Axios=s,u.create=function(t){return c(o(u.defaults,t))},u.Cancel=n(88),u.CancelToken=n(163),u.isCancel=n(83),u.all=function(t){return Promise.all(t)},u.spread=n(164),t.exports=u,t.exports.default=u},function(t,e,n){"use strict";var r=n(18),i=n(82),s=n(151),o=n(152),c=n(87);function u(t){this.defaults=t,this.interceptors={request:new s,response:new s}}u.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=c(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[o,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},u.prototype.getUri=function(t){return t=c(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){u.prototype[t]=function(e,n){return this.request(c(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){u.prototype[t]=function(e,n,r){return this.request(c(r||{},{method:t,url:e,data:n}))}})),t.exports=u},function(t,e,n){"use strict";var r=n(18);function i(){this.handlers=[]}i.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},function(t,e,n){"use strict";var r=n(18),i=n(153),s=n(83),o=n(84);function c(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return c(t),t.headers=t.headers||{},t.data=i(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||o.adapter)(t).then((function(e){return c(t),e.data=i(e.data,e.headers,t.transformResponse),e}),(function(e){return s(e)||(c(t),e&&e.response&&(e.response.data=i(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(18);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var r=n(18);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(86);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(18);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,s,o){var c=[];c.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),r.isString(i)&&c.push("path="+i),r.isString(s)&&c.push("domain="+s),!0===o&&c.push("secure"),document.cookie=c.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(159),i=n(160);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(18),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,s,o={};return t?(r.forEach(t.split("\n"),(function(t){if(s=t.indexOf(":"),e=r.trim(t.substr(0,s)).toLowerCase(),n=r.trim(t.substr(s+1)),e){if(o[e]&&i.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}})),o):o}},function(t,e,n){"use strict";var r=n(18);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(88);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenService=void 0;const r=n(13),i=n(25),s=n(33),o=n(75),c=n(80),u=n(74),a=n(42);class h{static addKountSessionId(t){const e=u.ExternalService.getKountSessionID();return e&&(t=Object.assign(Object.assign({},t),{kount_session_id:e})),t}static buildSimpleTokenRequest(t,e,n,r){let s={payment_instrument:{creditcard:{number:t,cvv:e,expiration:n},billing_contact:{address:{postal_code:r}},type:i.PaymentType.creditCard}};return s=h.addKountSessionId(s),s}static tokenize(t){var e;return r.__awaiter(this,void 0,void 0,(function*(){t=h.addKountSessionId(t);let n=null;try{n=yield o.default.post(`${this.configuration.tokenApiEndpoint}/api/v1/vault/${c.URL_CREATE_TOKEN}`,t,{headers:Object.assign({},a.GeneralUtil.getAuthorizationHeader(this.configuration.publishableKey))})}catch(t){throw null===(e=null==t?void 0:t.response)||void 0===e?void 0:e.data}return n.data}))}}e.TokenService=h,h.configuration=s.ConfigurationService.getInstance().configuration},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.obfuscatePublicFormSDKObject=void 0,e.obfuscatePublicFormSDKObject=t=>({on:t.on.bind(t),mount:t.mount.bind(t),unmount:t.unmount.bind(t),submit:t.submit.bind(t),setBillingContact:t.setBillingContact.bind(t),setShippingAddress:t.setShippingAddress.bind(t),setOrderDetails:t.setOrderDetails.bind(t),setPaymentSource:t.setPaymentSource.bind(t),showSpinner:t.showSpinner.bind(t),showError:t.showError.bind(t),showSuccess:t.showSuccess.bind(t),resetForm:t.resetForm.bind(t)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GPGSDK=void 0;const r=n(13),i=n(76),s=n(33),o=n(42),c=n(168),u=n(25),a=n(89);e.GPGSDK=class{constructor(t){this.publishableKey=t,this.configurationService=s.ConfigurationService.getInstance();const e=this.configurationService.configuration;e.publishableKey=t,e.tokenApiEndpoint=o.GeneralUtil.getTokenEndpointUrlV1(t),e.formsURL=o.GeneralUtil.getV1FormsURL(),e.sdkVersion=o.GeneralUtil.getSdkVersion()}createToken(t){return r.__awaiter(this,void 0,void 0,(function*(){return c.TokenV1Service.tokenize(t)}))}createForm(t,e){return a.obfuscatePublicFormSDKObject(new i.Form(t,e,u.ApiVersion.v1))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenV1Service=void 0;const r=n(13),i=n(77),s=n(33),o=n(75),c=n(169);class u{static tokenize(t){var e,n,s;return r.__awaiter(this,void 0,void 0,(function*(){try{const r=u.configurationService.configuration;t.KountSessionID=r.enableKount?null===(n=null===(e=window)||void 0===e?void 0:e.ka)||void 0===n?void 0:n.sessionId:void 0,t.Payload=u.encryptCCNumber(t.Payload);const c=(yield o.default.post(r.tokenApiEndpoint+"/hostedFields.asmx/GetTokenizewithCustomerProfile",i.stringify({RequestObject:JSON.stringify(t)}),{headers:{Authorization:"Bearer "+r.publishableKey,"Content-Type":"application/x-www-form-urlencoded","Access-Control-Max-Age":"86400"}})).data;if("SUCCESS"!==c.Result)throw c;return""!==(null===(s=null==c?void 0:c.ProfileDetail)||void 0===s?void 0:s.ExpirationDate)&&c.ProfileDetail.ExpirationDate||(c.ProfileDetail.ExpirationDate=t.Expiration),c.ProfileDetail.Cvv=t.CVV,c.ProfileDetail}catch(t){throw t}}))}static encryptCCNumber(t){const e=new c.JSEncrypt,n=this.configurationService.configuration;e.setPublicKey(n.globalPublicKey);const r=e.encrypt(t);return`${n.globalGUID}:${r}`}}e.TokenV1Service=u,u.configurationService=s.ConfigurationService.getInstance()},function(t,e,n){!function(t){"use strict";function e(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)}function n(t,e){return t&e}function r(t,e){return t|e}function i(t,e){return t^e}function s(t,e){return t&~e}function o(t){if(0==t)return-1;var e=0;return 0==(65535&t)&&(t>>=16,e+=16),0==(255&t)&&(t>>=8,e+=8),0==(15&t)&&(t>>=4,e+=4),0==(3&t)&&(t>>=2,e+=2),0==(1&t)&&++e,e}function c(t){for(var e=0;0!=t;)t&=t-1,++e;return e}var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function a(t){var e,n,r="";for(e=0;e+3<=t.length;e+=3)n=parseInt(t.substring(e,e+3),16),r+=u.charAt(n>>6)+u.charAt(63&n);for(e+1==t.length?(n=parseInt(t.substring(e,e+1),16),r+=u.charAt(n<<2)):e+2==t.length&&(n=parseInt(t.substring(e,e+2),16),r+=u.charAt(n>>2)+u.charAt((3&n)<<4));(3&r.length)>0;)r+="=";return r}function h(t){var n,r="",i=0,s=0;for(n=0;n<t.length&&"="!=t.charAt(n);++n){var o=u.indexOf(t.charAt(n));o<0||(0==i?(r+=e(o>>2),s=3&o,i=1):1==i?(r+=e(s<<2|o>>4),s=15&o,i=2):2==i?(r+=e(s),r+=e(o>>2),s=3&o,i=3):(r+=e(s<<2|o>>4),r+=e(15&o),i=0))}return 1==i&&(r+=e(s<<2)),r}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var l,d,f=function(t,e){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},p=function(t){var e;if(void 0===l){var n="0123456789ABCDEF";for(l={},e=0;e<16;++e)l[n.charAt(e)]=e;for(n=n.toLowerCase(),e=10;e<16;++e)l[n.charAt(e)]=e;for(e=0;e<" \f\n\r\t\u2028\u2029".length;++e)l[" \f\n\r\t\u2028\u2029".charAt(e)]=-1}var r=[],i=0,s=0;for(e=0;e<t.length;++e){var o=t.charAt(e);if("="==o)break;if(-1!=(o=l[o])){if(void 0===o)throw new Error("Illegal character at offset "+e);i|=o,++s>=2?(r[r.length]=i,i=0,s=0):i<<=4}}if(s)throw new Error("Hex encoding incomplete: 4 bits missing");return r},b={decode:function(t){var e;if(void 0===d){for(d=Object.create(null),e=0;e<64;++e)d["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(e)]=e;for(e=0;e<"= \f\n\r\t\u2028\u2029".length;++e)d["= \f\n\r\t\u2028\u2029".charAt(e)]=-1}var n=[],r=0,i=0;for(e=0;e<t.length;++e){var s=t.charAt(e);if("="==s)break;if(-1!=(s=d[s])){if(void 0===s)throw new Error("Illegal character at offset "+e);r|=s,++i>=4?(n[n.length]=r>>16,n[n.length]=r>>8&255,n[n.length]=255&r,r=0,i=0):r<<=6}}switch(i){case 1:throw new Error("Base64 encoding incomplete: at least 2 bits missing");case 2:n[n.length]=r>>10;break;case 3:n[n.length]=r>>16,n[n.length]=r>>8&255}return n},re:/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/,unarmor:function(t){var e=b.re.exec(t);if(e)if(e[1])t=e[1];else{if(!e[2])throw new Error("RegExp out of sync");t=e[2]}return b.decode(t)}},m=1e13,g=function(){function t(t){this.buf=[+t||0]}return t.prototype.mulAdd=function(t,e){var n,r,i=this.buf,s=i.length;for(n=0;n<s;++n)(r=i[n]*t+e)<m?e=0:r-=(e=0|r/m)*m,i[n]=r;e>0&&(i[n]=e)},t.prototype.sub=function(t){var e,n,r=this.buf,i=r.length;for(e=0;e<i;++e)(n=r[e]-t)<0?(n+=m,t=1):t=0,r[e]=n;for(;0===r[r.length-1];)r.pop()},t.prototype.toString=function(t){if(10!=(t||10))throw new Error("only base 10 is supported");for(var e=this.buf,n=e[e.length-1].toString(),r=e.length-2;r>=0;--r)n+=(m+e[r]).toString().substring(1);return n},t.prototype.valueOf=function(){for(var t=this.buf,e=0,n=t.length-1;n>=0;--n)e=e*m+t[n];return e},t.prototype.simplify=function(){var t=this.buf;return 1==t.length?t[0]:this},t}(),v=/^(\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/,y=/^(\d\d\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;function w(t,e){return t.length>e&&(t=t.substring(0,e)+""),t}var S,x=function(){function t(e,n){this.hexDigits="0123456789ABCDEF",e instanceof t?(this.enc=e.enc,this.pos=e.pos):(this.enc=e,this.pos=n)}return t.prototype.get=function(t){if(void 0===t&&(t=this.pos++),t>=this.enc.length)throw new Error("Requesting byte offset "+t+" on a stream of length "+this.enc.length);return"string"==typeof this.enc?this.enc.charCodeAt(t):this.enc[t]},t.prototype.hexByte=function(t){return this.hexDigits.charAt(t>>4&15)+this.hexDigits.charAt(15&t)},t.prototype.hexDump=function(t,e,n){for(var r="",i=t;i<e;++i)if(r+=this.hexByte(this.get(i)),!0!==n)switch(15&i){case 7:r+="  ";break;case 15:r+="\n";break;default:r+=" "}return r},t.prototype.isASCII=function(t,e){for(var n=t;n<e;++n){var r=this.get(n);if(r<32||r>176)return!1}return!0},t.prototype.parseStringISO=function(t,e){for(var n="",r=t;r<e;++r)n+=String.fromCharCode(this.get(r));return n},t.prototype.parseStringUTF=function(t,e){for(var n="",r=t;r<e;){var i=this.get(r++);n+=i<128?String.fromCharCode(i):i>191&&i<224?String.fromCharCode((31&i)<<6|63&this.get(r++)):String.fromCharCode((15&i)<<12|(63&this.get(r++))<<6|63&this.get(r++))}return n},t.prototype.parseStringBMP=function(t,e){for(var n,r,i="",s=t;s<e;)n=this.get(s++),r=this.get(s++),i+=String.fromCharCode(n<<8|r);return i},t.prototype.parseTime=function(t,e,n){var r=this.parseStringISO(t,e),i=(n?v:y).exec(r);return i?(n&&(i[1]=+i[1],i[1]+=+i[1]<70?2e3:1900),r=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(r+=":"+i[5],i[6]&&(r+=":"+i[6],i[7]&&(r+="."+i[7]))),i[8]&&(r+=" UTC","Z"!=i[8]&&(r+=i[8],i[9]&&(r+=":"+i[9]))),r):"Unrecognized time: "+r},t.prototype.parseInteger=function(t,e){for(var n,r=this.get(t),i=r>127,s=i?255:0,o="";r==s&&++t<e;)r=this.get(t);if(0==(n=e-t))return i?-1:0;if(n>4){for(o=r,n<<=3;0==(128&(+o^s));)o=+o<<1,--n;o="("+n+" bit)\n"}i&&(r-=256);for(var c=new g(r),u=t+1;u<e;++u)c.mulAdd(256,this.get(u));return o+c.toString()},t.prototype.parseBitString=function(t,e,n){for(var r=this.get(t),i="("+((e-t-1<<3)-r)+" bit)\n",s="",o=t+1;o<e;++o){for(var c=this.get(o),u=o==e-1?r:0,a=7;a>=u;--a)s+=c>>a&1?"1":"0";if(s.length>n)return i+w(s,n)}return i+s},t.prototype.parseOctetString=function(t,e,n){if(this.isASCII(t,e))return w(this.parseStringISO(t,e),n);var r=e-t,i="("+r+" byte)\n";r>(n/=2)&&(e=t+n);for(var s=t;s<e;++s)i+=this.hexByte(this.get(s));return r>n&&(i+=""),i},t.prototype.parseOID=function(t,e,n){for(var r="",i=new g,s=0,o=t;o<e;++o){var c=this.get(o);if(i.mulAdd(128,127&c),s+=7,!(128&c)){if(""===r)if((i=i.simplify())instanceof g)i.sub(80),r="2."+i.toString();else{var u=i<80?i<40?0:1:2;r=u+"."+(i-40*u)}else r+="."+i.toString();if(r.length>n)return w(r,n);i=new g,s=0}}return s>0&&(r+=".incomplete"),r},t}(),_=function(){function t(t,e,n,r,i){if(!(r instanceof E))throw new Error("Invalid tag value.");this.stream=t,this.header=e,this.length=n,this.tag=r,this.sub=i}return t.prototype.typeName=function(){switch(this.tag.tagClass){case 0:switch(this.tag.tagNumber){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString"}return"Universal_"+this.tag.tagNumber.toString();case 1:return"Application_"+this.tag.tagNumber.toString();case 2:return"["+this.tag.tagNumber.toString()+"]";case 3:return"Private_"+this.tag.tagNumber.toString()}},t.prototype.content=function(t){if(void 0===this.tag)return null;void 0===t&&(t=1/0);var e=this.posContent(),n=Math.abs(this.length);if(!this.tag.isUniversal())return null!==this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+n,t);switch(this.tag.tagNumber){case 1:return 0===this.stream.get(e)?"false":"true";case 2:return this.stream.parseInteger(e,e+n);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(e,e+n,t);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(e,e+n,t);case 6:return this.stream.parseOID(e,e+n,t);case 16:case 17:return null!==this.sub?"("+this.sub.length+" elem)":"(no elem)";case 12:return w(this.stream.parseStringUTF(e,e+n),t);case 18:case 19:case 20:case 21:case 22:case 26:return w(this.stream.parseStringISO(e,e+n),t);case 30:return w(this.stream.parseStringBMP(e,e+n),t);case 23:case 24:return this.stream.parseTime(e,e+n,23==this.tag.tagNumber)}return null},t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(null===this.sub?"null":this.sub.length)+"]"},t.prototype.toPrettyString=function(t){void 0===t&&(t="");var e=t+this.typeName()+" @"+this.stream.pos;if(this.length>=0&&(e+="+"),e+=this.length,this.tag.tagConstructed?e+=" (constructed)":!this.tag.isUniversal()||3!=this.tag.tagNumber&&4!=this.tag.tagNumber||null===this.sub||(e+=" (encapsulates)"),e+="\n",null!==this.sub){t+="  ";for(var n=0,r=this.sub.length;n<r;++n)e+=this.sub[n].toPrettyString(t)}return e},t.prototype.posStart=function(){return this.stream.pos},t.prototype.posContent=function(){return this.stream.pos+this.header},t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)},t.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)},t.decodeLength=function(t){var e=t.get(),n=127&e;if(n==e)return n;if(n>6)throw new Error("Length over 48 bits not supported at position "+(t.pos-1));if(0===n)return null;e=0;for(var r=0;r<n;++r)e=256*e+t.get();return e},t.prototype.getHexStringValue=function(){var t=this.toHexString(),e=2*this.header,n=2*this.length;return t.substr(e,n)},t.decode=function(e){var n;n=e instanceof x?e:new x(e,0);var r=new x(n),i=new E(n),s=t.decodeLength(n),o=n.pos,c=o-r.pos,u=null,a=function(){var e=[];if(null!==s){for(var r=o+s;n.pos<r;)e[e.length]=t.decode(n);if(n.pos!=r)throw new Error("Content size is not correct for container starting at offset "+o)}else try{for(;;){var i=t.decode(n);if(i.tag.isEOC())break;e[e.length]=i}s=o-n.pos}catch(t){throw new Error("Exception while decoding undefined length content: "+t)}return e};if(i.tagConstructed)u=a();else if(i.isUniversal()&&(3==i.tagNumber||4==i.tagNumber))try{if(3==i.tagNumber&&0!=n.get())throw new Error("BIT STRINGs with unused bits cannot encapsulate.");u=a();for(var h=0;h<u.length;++h)if(u[h].tag.isEOC())throw new Error("EOC is not supposed to be actual content.")}catch(t){u=null}if(null===u){if(null===s)throw new Error("We can't skip over an invalid tag with undefined length at offset "+o);n.pos=o+Math.abs(s)}return new t(r,c,s,i,u)},t}(),E=function(){function t(t){var e=t.get();if(this.tagClass=e>>6,this.tagConstructed=0!=(32&e),this.tagNumber=31&e,31==this.tagNumber){var n=new g;do{e=t.get(),n.mulAdd(128,127&e)}while(128&e);this.tagNumber=n.simplify()}}return t.prototype.isUniversal=function(){return 0===this.tagClass},t.prototype.isEOC=function(){return 0===this.tagClass&&0===this.tagNumber},t}(),T=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],O=(1<<26)/T[T.length-1],j=function(){function t(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}return t.prototype.toString=function(t){if(this.s<0)return"-"+this.negate().toString(t);var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return this.toRadix(t);n=2}var r,i=(1<<n)-1,s=!1,o="",c=this.t,u=this.DB-c*this.DB%n;if(c-- >0)for(u<this.DB&&(r=this[c]>>u)>0&&(s=!0,o=e(r));c>=0;)u<n?(r=(this[c]&(1<<u)-1)<<n-u,r|=this[--c]>>(u+=this.DB-n)):(r=this[c]>>(u-=n)&i,u<=0&&(u+=this.DB,--c)),r>0&&(s=!0),s&&(o+=e(r));return s?o:"0"},t.prototype.negate=function(){var e=R();return t.ZERO.subTo(this,e),e},t.prototype.abs=function(){return this.s<0?this.negate():this},t.prototype.compareTo=function(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(0!=(e=n-t.t))return this.s<0?-e:e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0},t.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+B(this[this.t-1]^this.s&this.DM)},t.prototype.mod=function(e){var n=R();return this.abs().divRemTo(e,null,n),this.s<0&&n.compareTo(t.ZERO)>0&&e.subTo(n,n),n},t.prototype.modPowInt=function(t,e){var n;return n=t<256||e.isEven()?new N(e):new C(e),this.exp(t,n)},t.prototype.clone=function(){var t=R();return this.copyTo(t),t},t.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},t.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},t.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},t.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},t.prototype.toByteArray=function(){var t=this.t,e=[];e[0]=this.s;var n,r=this.DB-t*this.DB%8,i=0;if(t-- >0)for(r<this.DB&&(n=this[t]>>r)!=(this.s&this.DM)>>r&&(e[i++]=n|this.s<<this.DB-r);t>=0;)r<8?(n=(this[t]&(1<<r)-1)<<8-r,n|=this[--t]>>(r+=this.DB-8)):(n=this[t]>>(r-=8)&255,r<=0&&(r+=this.DB,--t)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(e[i++]=n);return e},t.prototype.equals=function(t){return 0==this.compareTo(t)},t.prototype.min=function(t){return this.compareTo(t)<0?this:t},t.prototype.max=function(t){return this.compareTo(t)>0?this:t},t.prototype.and=function(t){var e=R();return this.bitwiseTo(t,n,e),e},t.prototype.or=function(t){var e=R();return this.bitwiseTo(t,r,e),e},t.prototype.xor=function(t){var e=R();return this.bitwiseTo(t,i,e),e},t.prototype.andNot=function(t){var e=R();return this.bitwiseTo(t,s,e),e},t.prototype.not=function(){for(var t=R(),e=0;e<this.t;++e)t[e]=this.DM&~this[e];return t.t=this.t,t.s=~this.s,t},t.prototype.shiftLeft=function(t){var e=R();return t<0?this.rShiftTo(-t,e):this.lShiftTo(t,e),e},t.prototype.shiftRight=function(t){var e=R();return t<0?this.lShiftTo(-t,e):this.rShiftTo(t,e),e},t.prototype.getLowestSetBit=function(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+o(this[t]);return this.s<0?this.t*this.DB:-1},t.prototype.bitCount=function(){for(var t=0,e=this.s&this.DM,n=0;n<this.t;++n)t+=c(this[n]^e);return t},t.prototype.testBit=function(t){var e=Math.floor(t/this.DB);return e>=this.t?0!=this.s:0!=(this[e]&1<<t%this.DB)},t.prototype.setBit=function(t){return this.changeBit(t,r)},t.prototype.clearBit=function(t){return this.changeBit(t,s)},t.prototype.flipBit=function(t){return this.changeBit(t,i)},t.prototype.add=function(t){var e=R();return this.addTo(t,e),e},t.prototype.subtract=function(t){var e=R();return this.subTo(t,e),e},t.prototype.multiply=function(t){var e=R();return this.multiplyTo(t,e),e},t.prototype.divide=function(t){var e=R();return this.divRemTo(t,e,null),e},t.prototype.remainder=function(t){var e=R();return this.divRemTo(t,null,e),e},t.prototype.divideAndRemainder=function(t){var e=R(),n=R();return this.divRemTo(t,e,n),[e,n]},t.prototype.modPow=function(t,e){var n,r,i=t.bitLength(),s=k(1);if(i<=0)return s;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new N(e):e.isEven()?new P(e):new C(e);var o=[],c=3,u=n-1,a=(1<<n)-1;if(o[1]=r.convert(this),n>1){var h=R();for(r.sqrTo(o[1],h);c<=a;)o[c]=R(),r.mulTo(h,o[c-2],o[c]),c+=2}var l,d,f=t.t-1,p=!0,b=R();for(i=B(t[f])-1;f>=0;){for(i>=u?l=t[f]>>i-u&a:(l=(t[f]&(1<<i+1)-1)<<u-i,f>0&&(l|=t[f-1]>>this.DB+i-u)),c=n;0==(1&l);)l>>=1,--c;if((i-=c)<0&&(i+=this.DB,--f),p)o[l].copyTo(s),p=!1;else{for(;c>1;)r.sqrTo(s,b),r.sqrTo(b,s),c-=2;c>0?r.sqrTo(s,b):(d=s,s=b,b=d),r.mulTo(b,o[l],s)}for(;f>=0&&0==(t[f]&1<<i);)r.sqrTo(s,b),d=s,s=b,b=d,--i<0&&(i=this.DB-1,--f)}return r.revert(s)},t.prototype.modInverse=function(e){var n=e.isEven();if(this.isEven()&&n||0==e.signum())return t.ZERO;for(var r=e.clone(),i=this.clone(),s=k(1),o=k(0),c=k(0),u=k(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),n?(s.isEven()&&o.isEven()||(s.addTo(this,s),o.subTo(e,o)),s.rShiftTo(1,s)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;i.isEven();)i.rShiftTo(1,i),n?(c.isEven()&&u.isEven()||(c.addTo(this,c),u.subTo(e,u)),c.rShiftTo(1,c)):u.isEven()||u.subTo(e,u),u.rShiftTo(1,u);r.compareTo(i)>=0?(r.subTo(i,r),n&&s.subTo(c,s),o.subTo(u,o)):(i.subTo(r,i),n&&c.subTo(s,c),u.subTo(o,u))}return 0!=i.compareTo(t.ONE)?t.ZERO:u.compareTo(e)>=0?u.subtract(e):u.signum()<0?(u.addTo(e,u),u.signum()<0?u.add(e):u):u},t.prototype.pow=function(t){return this.exp(t,new I)},t.prototype.gcd=function(t){var e=this.s<0?this.negate():this.clone(),n=t.s<0?t.negate():t.clone();if(e.compareTo(n)<0){var r=e;e=n,n=r}var i=e.getLowestSetBit(),s=n.getLowestSetBit();if(s<0)return e;for(i<s&&(s=i),s>0&&(e.rShiftTo(s,e),n.rShiftTo(s,n));e.signum()>0;)(i=e.getLowestSetBit())>0&&e.rShiftTo(i,e),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),e.compareTo(n)>=0?(e.subTo(n,e),e.rShiftTo(1,e)):(n.subTo(e,n),n.rShiftTo(1,n));return s>0&&n.lShiftTo(s,n),n},t.prototype.isProbablePrime=function(t){var e,n=this.abs();if(1==n.t&&n[0]<=T[T.length-1]){for(e=0;e<T.length;++e)if(n[0]==T[e])return!0;return!1}if(n.isEven())return!1;for(e=1;e<T.length;){for(var r=T[e],i=e+1;i<T.length&&r<O;)r*=T[i++];for(r=n.modInt(r);e<i;)if(r%T[e++]==0)return!1}return n.millerRabin(t)},t.prototype.copyTo=function(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s},t.prototype.fromInt=function(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0},t.prototype.fromString=function(e,n){var r;if(16==n)r=4;else if(8==n)r=3;else if(256==n)r=8;else if(2==n)r=1;else if(32==n)r=5;else{if(4!=n)return void this.fromRadix(e,n);r=2}this.t=0,this.s=0;for(var i=e.length,s=!1,o=0;--i>=0;){var c=8==r?255&+e[i]:V(e,i);c<0?"-"==e.charAt(i)&&(s=!0):(s=!1,0==o?this[this.t++]=c:o+r>this.DB?(this[this.t-1]|=(c&(1<<this.DB-o)-1)<<o,this[this.t++]=c>>this.DB-o):this[this.t-1]|=c<<o,(o+=r)>=this.DB&&(o-=this.DB))}8==r&&0!=(128&+e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),s&&t.ZERO.subTo(this,this)},t.prototype.clamp=function(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t},t.prototype.dlShiftTo=function(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s},t.prototype.drShiftTo=function(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s},t.prototype.lShiftTo=function(t,e){for(var n=t%this.DB,r=this.DB-n,i=(1<<r)-1,s=Math.floor(t/this.DB),o=this.s<<n&this.DM,c=this.t-1;c>=0;--c)e[c+s+1]=this[c]>>r|o,o=(this[c]&i)<<n;for(c=s-1;c>=0;--c)e[c]=0;e[s]=o,e.t=this.t+s+1,e.s=this.s,e.clamp()},t.prototype.rShiftTo=function(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)e.t=0;else{var r=t%this.DB,i=this.DB-r,s=(1<<r)-1;e[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)e[o-n-1]|=(this[o]&s)<<i,e[o-n]=this[o]>>r;r>0&&(e[this.t-n-1]|=(this.s&s)<<i),e.t=this.t-n,e.clamp()}},t.prototype.subTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]-t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r-=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r-=t[n],e[n++]=r&this.DM,r>>=this.DB;r-=t.s}e.s=r<0?-1:0,r<-1?e[n++]=this.DV+r:r>0&&(e[n++]=r),e.t=n,e.clamp()},t.prototype.multiplyTo=function(e,n){var r=this.abs(),i=e.abs(),s=r.t;for(n.t=s+i.t;--s>=0;)n[s]=0;for(s=0;s<i.t;++s)n[s+r.t]=r.am(0,i[s],n,s,0,r.t);n.s=0,n.clamp(),this.s!=e.s&&t.ZERO.subTo(n,n)},t.prototype.squareTo=function(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var r=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,r,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()},t.prototype.divRemTo=function(e,n,r){var i=e.abs();if(!(i.t<=0)){var s=this.abs();if(s.t<i.t)return null!=n&&n.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=R());var o=R(),c=this.s,u=e.s,a=this.DB-B(i[i.t-1]);a>0?(i.lShiftTo(a,o),s.lShiftTo(a,r)):(i.copyTo(o),s.copyTo(r));var h=o.t,l=o[h-1];if(0!=l){var d=l*(1<<this.F1)+(h>1?o[h-2]>>this.F2:0),f=this.FV/d,p=(1<<this.F1)/d,b=1<<this.F2,m=r.t,g=m-h,v=null==n?R():n;for(o.dlShiftTo(g,v),r.compareTo(v)>=0&&(r[r.t++]=1,r.subTo(v,r)),t.ONE.dlShiftTo(h,v),v.subTo(o,o);o.t<h;)o[o.t++]=0;for(;--g>=0;){var y=r[--m]==l?this.DM:Math.floor(r[m]*f+(r[m-1]+b)*p);if((r[m]+=o.am(0,y,r,g,0,h))<y)for(o.dlShiftTo(g,v),r.subTo(v,r);r[m]<--y;)r.subTo(v,r)}null!=n&&(r.drShiftTo(h,n),c!=u&&t.ZERO.subTo(n,n)),r.t=h,r.clamp(),a>0&&r.rShiftTo(a,r),c<0&&t.ZERO.subTo(r,r)}}},t.prototype.invDigit=function(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return(e=(e=(e=(e=e*(2-(15&t)*e)&15)*(2-(255&t)*e)&255)*(2-((65535&t)*e&65535))&65535)*(2-t*e%this.DV)%this.DV)>0?this.DV-e:-e},t.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},t.prototype.exp=function(e,n){if(e>4294967295||e<1)return t.ONE;var r=R(),i=R(),s=n.convert(this),o=B(e)-1;for(s.copyTo(r);--o>=0;)if(n.sqrTo(r,i),(e&1<<o)>0)n.mulTo(i,s,r);else{var c=r;r=i,i=c}return n.revert(r)},t.prototype.chunkSize=function(t){return Math.floor(Math.LN2*this.DB/Math.log(t))},t.prototype.toRadix=function(t){if(null==t&&(t=10),0==this.signum()||t<2||t>36)return"0";var e=this.chunkSize(t),n=Math.pow(t,e),r=k(n),i=R(),s=R(),o="";for(this.divRemTo(r,i,s);i.signum()>0;)o=(n+s.intValue()).toString(t).substr(1)+o,i.divRemTo(r,i,s);return s.intValue().toString(t)+o},t.prototype.fromRadix=function(e,n){this.fromInt(0),null==n&&(n=10);for(var r=this.chunkSize(n),i=Math.pow(n,r),s=!1,o=0,c=0,u=0;u<e.length;++u){var a=V(e,u);a<0?"-"==e.charAt(u)&&0==this.signum()&&(s=!0):(c=n*c+a,++o>=r&&(this.dMultiply(i),this.dAddOffset(c,0),o=0,c=0))}o>0&&(this.dMultiply(Math.pow(n,o)),this.dAddOffset(c,0)),s&&t.ZERO.subTo(this,this)},t.prototype.fromNumber=function(e,n,i){if("number"==typeof n)if(e<2)this.fromInt(1);else for(this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),r,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(n);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(t.ONE.shiftLeft(e-1),this);else{var s=[],o=7&e;s.length=1+(e>>3),n.nextBytes(s),o>0?s[0]&=(1<<o)-1:s[0]=0,this.fromString(s,256)}},t.prototype.bitwiseTo=function(t,e,n){var r,i,s=Math.min(t.t,this.t);for(r=0;r<s;++r)n[r]=e(this[r],t[r]);if(t.t<this.t){for(i=t.s&this.DM,r=s;r<this.t;++r)n[r]=e(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=s;r<t.t;++r)n[r]=e(i,t[r]);n.t=t.t}n.s=e(this.s,t.s),n.clamp()},t.prototype.changeBit=function(e,n){var r=t.ONE.shiftLeft(e);return this.bitwiseTo(r,n,r),r},t.prototype.addTo=function(t,e){for(var n=0,r=0,i=Math.min(t.t,this.t);n<i;)r+=this[n]+t[n],e[n++]=r&this.DM,r>>=this.DB;if(t.t<this.t){for(r+=t.s;n<this.t;)r+=this[n],e[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<t.t;)r+=t[n],e[n++]=r&this.DM,r>>=this.DB;r+=t.s}e.s=r<0?-1:0,r>0?e[n++]=r:r<-1&&(e[n++]=this.DV+r),e.t=n,e.clamp()},t.prototype.dMultiply=function(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()},t.prototype.dAddOffset=function(t,e){if(0!=t){for(;this.t<=e;)this[this.t++]=0;for(this[e]+=t;this[e]>=this.DV;)this[e]-=this.DV,++e>=this.t&&(this[this.t++]=0),++this[e]}},t.prototype.multiplyLowerTo=function(t,e,n){var r=Math.min(this.t+t.t,e);for(n.s=0,n.t=r;r>0;)n[--r]=0;for(var i=n.t-this.t;r<i;++r)n[r+this.t]=this.am(0,t[r],n,r,0,this.t);for(i=Math.min(t.t,e);r<i;++r)this.am(0,t[r],n,r,0,e-r);n.clamp()},t.prototype.multiplyUpperTo=function(t,e,n){--e;var r=n.t=this.t+t.t-e;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(e-this.t,0);r<t.t;++r)n[this.t+r-e]=this.am(e-r,t[r],n,0,0,this.t+r-e);n.clamp(),n.drShiftTo(1,n)},t.prototype.modInt=function(t){if(t<=0)return 0;var e=this.DV%t,n=this.s<0?t-1:0;if(this.t>0)if(0==e)n=this[0]%t;else for(var r=this.t-1;r>=0;--r)n=(e*n+this[r])%t;return n},t.prototype.millerRabin=function(e){var n=this.subtract(t.ONE),r=n.getLowestSetBit();if(r<=0)return!1;var i=n.shiftRight(r);(e=e+1>>1)>T.length&&(e=T.length);for(var s=R(),o=0;o<e;++o){s.fromInt(T[Math.floor(Math.random()*T.length)]);var c=s.modPow(i,this);if(0!=c.compareTo(t.ONE)&&0!=c.compareTo(n)){for(var u=1;u++<r&&0!=c.compareTo(n);)if(0==(c=c.modPowInt(2,this)).compareTo(t.ONE))return!1;if(0!=c.compareTo(n))return!1}}return!0},t.prototype.square=function(){var t=R();return this.squareTo(t),t},t.prototype.gcda=function(t,e){var n=this.s<0?this.negate():this.clone(),r=t.s<0?t.negate():t.clone();if(n.compareTo(r)<0){var i=n;n=r,r=i}var s=n.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)e(n);else{s<o&&(o=s),o>0&&(n.rShiftTo(o,n),r.rShiftTo(o,r));var c=function(){(s=n.getLowestSetBit())>0&&n.rShiftTo(s,n),(s=r.getLowestSetBit())>0&&r.rShiftTo(s,r),n.compareTo(r)>=0?(n.subTo(r,n),n.rShiftTo(1,n)):(r.subTo(n,r),r.rShiftTo(1,r)),n.signum()>0?setTimeout(c,0):(o>0&&r.lShiftTo(o,r),setTimeout((function(){e(r)}),0))};setTimeout(c,10)}},t.prototype.fromNumberAsync=function(e,n,i,s){if("number"==typeof n)if(e<2)this.fromInt(1);else{this.fromNumber(e,i),this.testBit(e-1)||this.bitwiseTo(t.ONE.shiftLeft(e-1),r,this),this.isEven()&&this.dAddOffset(1,0);var o=this,c=function(){o.dAddOffset(2,0),o.bitLength()>e&&o.subTo(t.ONE.shiftLeft(e-1),o),o.isProbablePrime(n)?setTimeout((function(){s()}),0):setTimeout(c,0)};setTimeout(c,0)}else{var u=[],a=7&e;u.length=1+(e>>3),n.nextBytes(u),a>0?u[0]&=(1<<a)-1:u[0]=0,this.fromString(u,256)}},t}(),I=function(){function t(){}return t.prototype.convert=function(t){return t},t.prototype.revert=function(t){return t},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n)},t.prototype.sqrTo=function(t,e){t.squareTo(e)},t}(),N=function(){function t(t){this.m=t}return t.prototype.convert=function(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){t.divRemTo(this.m,null,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),C=function(){function t(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return t.prototype.convert=function(t){var e=R();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(j.ZERO)>0&&this.m.subTo(e,e),e},t.prototype.revert=function(t){var e=R();return t.copyTo(e),this.reduce(e),e},t.prototype.reduce=function(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],r=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[n=e+this.m.t]+=this.m.am(0,r,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}(),P=function(){function t(t){this.m=t,this.r2=R(),this.q3=R(),j.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t)}return t.prototype.convert=function(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var e=R();return t.copyTo(e),this.reduce(e),e},t.prototype.revert=function(t){return t},t.prototype.reduce=function(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)},t.prototype.mulTo=function(t,e,n){t.multiplyTo(e,n),this.reduce(n)},t.prototype.sqrTo=function(t,e){t.squareTo(e),this.reduce(e)},t}();function R(){return new j(null)}function A(t,e){return new j(t,e)}"Microsoft Internet Explorer"==navigator.appName?(j.prototype.am=function(t,e,n,r,i,s){for(var o=32767&e,c=e>>15;--s>=0;){var u=32767&this[t],a=this[t++]>>15,h=c*u+a*o;i=((u=o*u+((32767&h)<<15)+n[r]+(1073741823&i))>>>30)+(h>>>15)+c*a+(i>>>30),n[r++]=1073741823&u}return i},S=30):"Netscape"!=navigator.appName?(j.prototype.am=function(t,e,n,r,i,s){for(;--s>=0;){var o=e*this[t++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=67108863&o}return i},S=26):(j.prototype.am=function(t,e,n,r,i,s){for(var o=16383&e,c=e>>14;--s>=0;){var u=16383&this[t],a=this[t++]>>14,h=c*u+a*o;i=((u=o*u+((16383&h)<<14)+n[r]+i)>>28)+(h>>14)+c*a,n[r++]=268435455&u}return i},S=28),j.prototype.DB=S,j.prototype.DM=(1<<S)-1,j.prototype.DV=1<<S,j.prototype.FV=Math.pow(2,52),j.prototype.F1=52-S,j.prototype.F2=2*S-52;var D,M,F=[];for(D="0".charCodeAt(0),M=0;M<=9;++M)F[D++]=M;for(D="a".charCodeAt(0),M=10;M<36;++M)F[D++]=M;for(D="A".charCodeAt(0),M=10;M<36;++M)F[D++]=M;function V(t,e){var n=F[t.charCodeAt(e)];return null==n?-1:n}function k(t){var e=R();return e.fromInt(t),e}function B(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}j.ZERO=k(0),j.ONE=k(1);var L,U,H=function(){function t(){this.i=0,this.j=0,this.S=[]}return t.prototype.init=function(t){var e,n,r;for(e=0;e<256;++e)this.S[e]=e;for(n=0,e=0;e<256;++e)n=n+this.S[e]+t[e%t.length]&255,r=this.S[e],this.S[e]=this.S[n],this.S[n]=r;this.i=0,this.j=0},t.prototype.next=function(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]},t}(),z=null;if(null==z){z=[],U=0;var q=void 0;if(window.crypto&&window.crypto.getRandomValues){var K=new Uint32Array(256);for(window.crypto.getRandomValues(K),q=0;q<K.length;++q)z[U++]=255&K[q]}var G=function(t){if(this.count=this.count||0,this.count>=256||U>=256)window.removeEventListener?window.removeEventListener("mousemove",G,!1):window.detachEvent&&window.detachEvent("onmousemove",G);else try{var e=t.x+t.y;z[U++]=255&e,this.count+=1}catch(t){}};window.addEventListener?window.addEventListener("mousemove",G,!1):window.attachEvent&&window.attachEvent("onmousemove",G)}function W(){if(null==L){for(L=new H;U<256;){var t=Math.floor(65536*Math.random());z[U++]=255&t}for(L.init(z),U=0;U<z.length;++U)z[U]=0;U=0}return L.next()}var Y=function(){function t(){}return t.prototype.nextBytes=function(t){for(var e=0;e<t.length;++e)t[e]=W()},t}(),$=function(){function t(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}return t.prototype.doPublic=function(t){return t.modPowInt(this.e,this.n)},t.prototype.doPrivate=function(t){if(null==this.p||null==this.q)return t.modPow(this.d,this.n);for(var e=t.mod(this.p).modPow(this.dmp1,this.p),n=t.mod(this.q).modPow(this.dmq1,this.q);e.compareTo(n)<0;)e=e.add(this.p);return e.subtract(n).multiply(this.coeff).mod(this.p).multiply(this.q).add(n)},t.prototype.setPublic=function(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=A(t,16),this.e=parseInt(e,16)):console.error("Invalid RSA public key")},t.prototype.encrypt=function(t){var e=function(t,e){if(e<t.length+11)return console.error("Message too long for RSA"),null;for(var n=[],r=t.length-1;r>=0&&e>0;){var i=t.charCodeAt(r--);i<128?n[--e]=i:i>127&&i<2048?(n[--e]=63&i|128,n[--e]=i>>6|192):(n[--e]=63&i|128,n[--e]=i>>6&63|128,n[--e]=i>>12|224)}n[--e]=0;for(var s=new Y,o=[];e>2;){for(o[0]=0;0==o[0];)s.nextBytes(o);n[--e]=o[0]}return n[--e]=2,n[--e]=0,new j(n)}(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},t.prototype.setPrivate=function(t,e,n){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=A(t,16),this.e=parseInt(e,16),this.d=A(n,16)):console.error("Invalid RSA private key")},t.prototype.setPrivateEx=function(t,e,n,r,i,s,o,c){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=A(t,16),this.e=parseInt(e,16),this.d=A(n,16),this.p=A(r,16),this.q=A(i,16),this.dmp1=A(s,16),this.dmq1=A(o,16),this.coeff=A(c,16)):console.error("Invalid RSA private key")},t.prototype.generate=function(t,e){var n=new Y,r=t>>1;this.e=parseInt(e,16);for(var i=new j(e,16);;){for(;this.p=new j(t-r,1,n),0!=this.p.subtract(j.ONE).gcd(i).compareTo(j.ONE)||!this.p.isProbablePrime(10););for(;this.q=new j(r,1,n),0!=this.q.subtract(j.ONE).gcd(i).compareTo(j.ONE)||!this.q.isProbablePrime(10););if(this.p.compareTo(this.q)<=0){var s=this.p;this.p=this.q,this.q=s}var o=this.p.subtract(j.ONE),c=this.q.subtract(j.ONE),u=o.multiply(c);if(0==u.gcd(i).compareTo(j.ONE)){this.n=this.p.multiply(this.q),this.d=i.modInverse(u),this.dmp1=this.d.mod(o),this.dmq1=this.d.mod(c),this.coeff=this.q.modInverse(this.p);break}}},t.prototype.decrypt=function(t){var e=A(t,16),n=this.doPrivate(e);return null==n?null:function(t,e){for(var n=t.toByteArray(),r=0;r<n.length&&0==n[r];)++r;if(n.length-r!=e-1||2!=n[r])return null;for(++r;0!=n[r];)if(++r>=n.length)return null;for(var i="";++r<n.length;){var s=255&n[r];s<128?i+=String.fromCharCode(s):s>191&&s<224?(i+=String.fromCharCode((31&s)<<6|63&n[r+1]),++r):(i+=String.fromCharCode((15&s)<<12|(63&n[r+1])<<6|63&n[r+2]),r+=2)}return i}(n,this.n.bitLength()+7>>3)},t.prototype.generateAsync=function(t,e,n){var r=new Y,i=t>>1;this.e=parseInt(e,16);var s=new j(e,16),o=this,c=function(){var e=function(){if(o.p.compareTo(o.q)<=0){var t=o.p;o.p=o.q,o.q=t}var e=o.p.subtract(j.ONE),r=o.q.subtract(j.ONE),i=e.multiply(r);0==i.gcd(s).compareTo(j.ONE)?(o.n=o.p.multiply(o.q),o.d=s.modInverse(i),o.dmp1=o.d.mod(e),o.dmq1=o.d.mod(r),o.coeff=o.q.modInverse(o.p),setTimeout((function(){n()}),0)):setTimeout(c,0)},u=function(){o.q=R(),o.q.fromNumberAsync(i,1,r,(function(){o.q.subtract(j.ONE).gcda(s,(function(t){0==t.compareTo(j.ONE)&&o.q.isProbablePrime(10)?setTimeout(e,0):setTimeout(u,0)}))}))},a=function(){o.p=R(),o.p.fromNumberAsync(t-i,1,r,(function(){o.p.subtract(j.ONE).gcda(s,(function(t){0==t.compareTo(j.ONE)&&o.p.isProbablePrime(10)?setTimeout(u,0):setTimeout(a,0)}))}))};setTimeout(a,0)};setTimeout(c,0)},t.prototype.sign=function(t,e,n){var r=function(t,e){if(e<t.length+22)return console.error("Message too long for RSA"),null;for(var n=e-t.length-6,r="",i=0;i<n;i+=2)r+="ff";return A("0001"+r+"00"+t,16)}((J[n]||"")+e(t).toString(),this.n.bitLength()/4);if(null==r)return null;var i=this.doPrivate(r);if(null==i)return null;var s=i.toString(16);return 0==(1&s.length)?s:"0"+s},t.prototype.verify=function(t,e,n){var r=A(e,16),i=this.doPublic(r);return null==i?null:function(t){for(var e in J)if(J.hasOwnProperty(e)){var n=J[e],r=n.length;if(t.substr(0,r)==n)return t.substr(r)}return t}
/*!
Copyright (c) 2011, Yahoo! Inc. All rights reserved.
Code licensed under the BSD License:
http://developer.yahoo.com/yui/license.html
version: 2.9.0
*/(i.toString(16).replace(/^1f+00/,""))==n(t).toString()},t}(),J={md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",ripemd160:"3021300906052b2403020105000414"},Z={};Z.lang={extend:function(t,e,n){if(!e||!t)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var r=function(){};if(r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t,t.superclass=e.prototype,e.prototype.constructor==Object.prototype.constructor&&(e.prototype.constructor=e),n){var i;for(i in n)t.prototype[i]=n[i];var s=function(){},o=["toString","valueOf"];try{/MSIE/.test(navigator.userAgent)&&(s=function(t,e){for(i=0;i<o.length;i+=1){var n=o[i],r=e[n];"function"==typeof r&&r!=Object.prototype[n]&&(t[n]=r)}})}catch(t){}s(t.prototype,n)}}};
/**
 * @fileOverview
 * @name asn1-1.0.js
 * @author Kenji Urushima kenji.urushima@gmail.com
 * @version asn1 1.0.13 (2017-Jun-02)
 * @since jsrsasign 2.1
 * @license <a href="https://kjur.github.io/jsrsasign/license/">MIT License</a>
 */
var Q={};void 0!==Q.asn1&&Q.asn1||(Q.asn1={}),Q.asn1.ASN1Util=new function(){this.integerToByteHex=function(t){var e=t.toString(16);return e.length%2==1&&(e="0"+e),e},this.bigIntToMinTwosComplementsHex=function(t){var e=t.toString(16);if("-"!=e.substr(0,1))e.length%2==1?e="0"+e:e.match(/^[0-7]/)||(e="00"+e);else{var n=e.substr(1).length;n%2==1?n+=1:e.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";e=new j(r,16).xor(t).add(j.ONE).toString(16).replace(/^-/,"")}return e},this.getPEMStringFromHex=function(t,e){return hextopem(t,e)},this.newObject=function(t){var e=Q.asn1,n=e.DERBoolean,r=e.DERInteger,i=e.DERBitString,s=e.DEROctetString,o=e.DERNull,c=e.DERObjectIdentifier,u=e.DEREnumerated,a=e.DERUTF8String,h=e.DERNumericString,l=e.DERPrintableString,d=e.DERTeletexString,f=e.DERIA5String,p=e.DERUTCTime,b=e.DERGeneralizedTime,m=e.DERSequence,g=e.DERSet,v=e.DERTaggedObject,y=e.ASN1Util.newObject,w=Object.keys(t);if(1!=w.length)throw"key of param shall be only one.";var S=w[0];if(-1==":bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:seq:set:tag:".indexOf(":"+S+":"))throw"undefined key: "+S;if("bool"==S)return new n(t[S]);if("int"==S)return new r(t[S]);if("bitstr"==S)return new i(t[S]);if("octstr"==S)return new s(t[S]);if("null"==S)return new o(t[S]);if("oid"==S)return new c(t[S]);if("enum"==S)return new u(t[S]);if("utf8str"==S)return new a(t[S]);if("numstr"==S)return new h(t[S]);if("prnstr"==S)return new l(t[S]);if("telstr"==S)return new d(t[S]);if("ia5str"==S)return new f(t[S]);if("utctime"==S)return new p(t[S]);if("gentime"==S)return new b(t[S]);if("seq"==S){for(var x=t[S],_=[],E=0;E<x.length;E++){var T=y(x[E]);_.push(T)}return new m({array:_})}if("set"==S){for(x=t[S],_=[],E=0;E<x.length;E++)T=y(x[E]),_.push(T);return new g({array:_})}if("tag"==S){var O=t[S];if("[object Array]"===Object.prototype.toString.call(O)&&3==O.length){var j=y(O[2]);return new v({tag:O[0],explicit:O[1],obj:j})}var I={};if(void 0!==O.explicit&&(I.explicit=O.explicit),void 0!==O.tag&&(I.tag=O.tag),void 0===O.obj)throw"obj shall be specified for 'tag'.";return I.obj=y(O.obj),new v(I)}},this.jsonToASN1HEX=function(t){return this.newObject(t).getEncodedHex()}},Q.asn1.ASN1Util.oidHexToInt=function(t){for(var e="",n=parseInt(t.substr(0,2),16),r=(e=Math.floor(n/40)+"."+n%40,""),i=2;i<t.length;i+=2){var s=("00000000"+parseInt(t.substr(i,2),16).toString(2)).slice(-8);r+=s.substr(1,7),"0"==s.substr(0,1)&&(e=e+"."+new j(r,2).toString(10),r="")}return e},Q.asn1.ASN1Util.oidIntToHex=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=new j(t,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var s="",o=0;o<i;o++)s+="0";for(r=s+r,o=0;o<r.length-1;o+=7){var c=r.substr(o,7);o!=r.length-7&&(c="1"+c),n+=e(parseInt(c,2))}return n};if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",i=t.split("."),s=40*parseInt(i[0])+parseInt(i[1]);r+=e(s),i.splice(0,2);for(var o=0;o<i.length;o++)r+=n(i[o]);return r},Q.asn1.ASN1Object=function(){this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+"".length+",v="+this.hV;var t=this.hV.length/2,e=t.toString(16);if(e.length%2==1&&(e="0"+e),t<128)return e;var n=e.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+t.toString(16);return(128+n).toString(16)+e},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""}},Q.asn1.DERAbstractString=function(t){Q.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(this.s)},this.setStringHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?this.setString(t):void 0!==t.str?this.setString(t.str):void 0!==t.hex&&this.setStringHex(t.hex))},Z.lang.extend(Q.asn1.DERAbstractString,Q.asn1.ASN1Object),Q.asn1.DERAbstractTime=function(t){Q.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(t){return utc=t.getTime()+6e4*t.getTimezoneOffset(),new Date(utc)},this.formatDate=function(t,e,n){var r=this.zeroPadding,i=this.localDateToUTC(t),s=String(i.getFullYear());"utc"==e&&(s=s.substr(2,2));var o=s+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var c=i.getMilliseconds();if(0!=c){var u=r(String(c),3);o=o+"."+(u=u.replace(/[0]+$/,""))}}return o+"Z"},this.zeroPadding=function(t,e){return t.length>=e?t:new Array(e-t.length+1).join("0")+t},this.getString=function(){return this.s},this.setString=function(t){this.hTLV=null,this.isModified=!0,this.s=t,this.hV=stohex(t)},this.setByDateValue=function(t,e,n,r,i,s){var o=new Date(Date.UTC(t,e-1,n,r,i,s,0));this.setByDate(o)},this.getFreshValueHex=function(){return this.hV}},Z.lang.extend(Q.asn1.DERAbstractTime,Q.asn1.ASN1Object),Q.asn1.DERAbstractStructured=function(t){Q.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array=t},this.appendASN1Object=function(t){this.hTLV=null,this.isModified=!0,this.asn1Array.push(t)},this.asn1Array=new Array,void 0!==t&&void 0!==t.array&&(this.asn1Array=t.array)},Z.lang.extend(Q.asn1.DERAbstractStructured,Q.asn1.ASN1Object),Q.asn1.DERBoolean=function(){Q.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV="0101ff"},Z.lang.extend(Q.asn1.DERBoolean,Q.asn1.ASN1Object),Q.asn1.DERInteger=function(t){Q.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Q.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new j(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.bigint?this.setByBigInteger(t.bigint):void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},Z.lang.extend(Q.asn1.DERInteger,Q.asn1.ASN1Object),Q.asn1.DERBitString=function(t){if(void 0!==t&&void 0!==t.obj){var e=Q.asn1.ASN1Util.newObject(t.obj);t.hex="00"+e.getEncodedHex()}Q.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(t){this.hTLV=null,this.isModified=!0,this.hV=t},this.setUnusedBitsAndHexValue=function(t,e){if(t<0||7<t)throw"unused bits shall be from 0 to 7: u = "+t;var n="0"+t;this.hTLV=null,this.isModified=!0,this.hV=n+e},this.setByBinaryString=function(t){var e=8-(t=t.replace(/0+$/,"")).length%8;8==e&&(e=0);for(var n=0;n<=e;n++)t+="0";var r="";for(n=0;n<t.length-1;n+=8){var i=t.substr(n,8),s=parseInt(i,2).toString(16);1==s.length&&(s="0"+s),r+=s}this.hTLV=null,this.isModified=!0,this.hV="0"+e+r},this.setByBooleanArray=function(t){for(var e="",n=0;n<t.length;n++)1==t[n]?e+="1":e+="0";this.setByBinaryString(e)},this.newFalseArray=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=!1;return e},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t&&t.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(t):void 0!==t.hex?this.setHexValueIncludingUnusedBits(t.hex):void 0!==t.bin?this.setByBinaryString(t.bin):void 0!==t.array&&this.setByBooleanArray(t.array))},Z.lang.extend(Q.asn1.DERBitString,Q.asn1.ASN1Object),Q.asn1.DEROctetString=function(t){if(void 0!==t&&void 0!==t.obj){var e=Q.asn1.ASN1Util.newObject(t.obj);t.hex=e.getEncodedHex()}Q.asn1.DEROctetString.superclass.constructor.call(this,t),this.hT="04"},Z.lang.extend(Q.asn1.DEROctetString,Q.asn1.DERAbstractString),Q.asn1.DERNull=function(){Q.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Z.lang.extend(Q.asn1.DERNull,Q.asn1.ASN1Object),Q.asn1.DERObjectIdentifier=function(t){var e=function(t){var e=t.toString(16);return 1==e.length&&(e="0"+e),e},n=function(t){var n="",r=new j(t,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var s="",o=0;o<i;o++)s+="0";for(r=s+r,o=0;o<r.length-1;o+=7){var c=r.substr(o,7);o!=r.length-7&&(c="1"+c),n+=e(parseInt(c,2))}return n};Q.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(t){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueOidString=function(t){if(!t.match(/^[0-9.]+$/))throw"malformed oid string: "+t;var r="",i=t.split("."),s=40*parseInt(i[0])+parseInt(i[1]);r+=e(s),i.splice(0,2);for(var o=0;o<i.length;o++)r+=n(i[o]);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=r},this.setValueName=function(t){var e=Q.asn1.x509.OID.name2oid(t);if(""===e)throw"DERObjectIdentifier oidName undefined: "+t;this.setValueOidString(e)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&("string"==typeof t?t.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(t):this.setValueName(t):void 0!==t.oid?this.setValueOidString(t.oid):void 0!==t.hex?this.setValueHex(t.hex):void 0!==t.name&&this.setValueName(t.name))},Z.lang.extend(Q.asn1.DERObjectIdentifier,Q.asn1.ASN1Object),Q.asn1.DEREnumerated=function(t){Q.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(t){this.hTLV=null,this.isModified=!0,this.hV=Q.asn1.ASN1Util.bigIntToMinTwosComplementsHex(t)},this.setByInteger=function(t){var e=new j(String(t),10);this.setByBigInteger(e)},this.setValueHex=function(t){this.hV=t},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.int?this.setByInteger(t.int):"number"==typeof t?this.setByInteger(t):void 0!==t.hex&&this.setValueHex(t.hex))},Z.lang.extend(Q.asn1.DEREnumerated,Q.asn1.ASN1Object),Q.asn1.DERUTF8String=function(t){Q.asn1.DERUTF8String.superclass.constructor.call(this,t),this.hT="0c"},Z.lang.extend(Q.asn1.DERUTF8String,Q.asn1.DERAbstractString),Q.asn1.DERNumericString=function(t){Q.asn1.DERNumericString.superclass.constructor.call(this,t),this.hT="12"},Z.lang.extend(Q.asn1.DERNumericString,Q.asn1.DERAbstractString),Q.asn1.DERPrintableString=function(t){Q.asn1.DERPrintableString.superclass.constructor.call(this,t),this.hT="13"},Z.lang.extend(Q.asn1.DERPrintableString,Q.asn1.DERAbstractString),Q.asn1.DERTeletexString=function(t){Q.asn1.DERTeletexString.superclass.constructor.call(this,t),this.hT="14"},Z.lang.extend(Q.asn1.DERTeletexString,Q.asn1.DERAbstractString),Q.asn1.DERIA5String=function(t){Q.asn1.DERIA5String.superclass.constructor.call(this,t),this.hT="16"},Z.lang.extend(Q.asn1.DERIA5String,Q.asn1.DERAbstractString),Q.asn1.DERUTCTime=function(t){Q.asn1.DERUTCTime.superclass.constructor.call(this,t),this.hT="17",this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{12}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date))},Z.lang.extend(Q.asn1.DERUTCTime,Q.asn1.DERAbstractTime),Q.asn1.DERGeneralizedTime=function(t){Q.asn1.DERGeneralizedTime.superclass.constructor.call(this,t),this.hT="18",this.withMillis=!1,this.setByDate=function(t){this.hTLV=null,this.isModified=!0,this.date=t,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=stohex(this.s)),this.hV},void 0!==t&&(void 0!==t.str?this.setString(t.str):"string"==typeof t&&t.match(/^[0-9]{14}Z$/)?this.setString(t):void 0!==t.hex?this.setStringHex(t.hex):void 0!==t.date&&this.setByDate(t.date),!0===t.millis&&(this.withMillis=!0))},Z.lang.extend(Q.asn1.DERGeneralizedTime,Q.asn1.DERAbstractTime),Q.asn1.DERSequence=function(t){Q.asn1.DERSequence.superclass.constructor.call(this,t),this.hT="30",this.getFreshValueHex=function(){for(var t="",e=0;e<this.asn1Array.length;e++)t+=this.asn1Array[e].getEncodedHex();return this.hV=t,this.hV}},Z.lang.extend(Q.asn1.DERSequence,Q.asn1.DERAbstractStructured),Q.asn1.DERSet=function(t){Q.asn1.DERSet.superclass.constructor.call(this,t),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var t=new Array,e=0;e<this.asn1Array.length;e++){var n=this.asn1Array[e];t.push(n.getEncodedHex())}return 1==this.sortFlag&&t.sort(),this.hV=t.join(""),this.hV},void 0!==t&&void 0!==t.sortflag&&0==t.sortflag&&(this.sortFlag=!1)},Z.lang.extend(Q.asn1.DERSet,Q.asn1.DERAbstractStructured),Q.asn1.DERTaggedObject=function(t){Q.asn1.DERTaggedObject.superclass.constructor.call(this),this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(t,e,n){this.hT=e,this.isExplicit=t,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,e),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},void 0!==t&&(void 0!==t.tag&&(this.hT=t.tag),void 0!==t.explicit&&(this.isExplicit=t.explicit),void 0!==t.obj&&(this.asn1Object=t.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},Z.lang.extend(Q.asn1.DERTaggedObject,Q.asn1.ASN1Object);var X=function(t){function e(n){var r=t.call(this)||this;return n&&("string"==typeof n?r.parseKey(n):(e.hasPrivateKeyProperty(n)||e.hasPublicKeyProperty(n))&&r.parsePropertiesFrom(n)),r}return function(t,e){function n(){this.constructor=t}f(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.parseKey=function(t){try{var e=0,n=0,r=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(t)?p(t):b.unarmor(t),i=_.decode(r);if(3===i.sub.length&&(i=i.sub[2].sub[0]),9===i.sub.length){e=i.sub[1].getHexStringValue(),this.n=A(e,16),n=i.sub[2].getHexStringValue(),this.e=parseInt(n,16);var s=i.sub[3].getHexStringValue();this.d=A(s,16);var o=i.sub[4].getHexStringValue();this.p=A(o,16);var c=i.sub[5].getHexStringValue();this.q=A(c,16);var u=i.sub[6].getHexStringValue();this.dmp1=A(u,16);var a=i.sub[7].getHexStringValue();this.dmq1=A(a,16);var h=i.sub[8].getHexStringValue();this.coeff=A(h,16)}else{if(2!==i.sub.length)return!1;var l=i.sub[1].sub[0];e=l.sub[0].getHexStringValue(),this.n=A(e,16),n=l.sub[1].getHexStringValue(),this.e=parseInt(n,16)}return!0}catch(t){return!1}},e.prototype.getPrivateBaseKey=function(){var t={array:[new Q.asn1.DERInteger({int:0}),new Q.asn1.DERInteger({bigint:this.n}),new Q.asn1.DERInteger({int:this.e}),new Q.asn1.DERInteger({bigint:this.d}),new Q.asn1.DERInteger({bigint:this.p}),new Q.asn1.DERInteger({bigint:this.q}),new Q.asn1.DERInteger({bigint:this.dmp1}),new Q.asn1.DERInteger({bigint:this.dmq1}),new Q.asn1.DERInteger({bigint:this.coeff})]};return new Q.asn1.DERSequence(t).getEncodedHex()},e.prototype.getPrivateBaseKeyB64=function(){return a(this.getPrivateBaseKey())},e.prototype.getPublicBaseKey=function(){var t=new Q.asn1.DERSequence({array:[new Q.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new Q.asn1.DERNull]}),e=new Q.asn1.DERSequence({array:[new Q.asn1.DERInteger({bigint:this.n}),new Q.asn1.DERInteger({int:this.e})]}),n=new Q.asn1.DERBitString({hex:"00"+e.getEncodedHex()});return new Q.asn1.DERSequence({array:[t,n]}).getEncodedHex()},e.prototype.getPublicBaseKeyB64=function(){return a(this.getPublicBaseKey())},e.wordwrap=function(t,e){if(!t)return t;var n="(.{1,"+(e=e||64)+"})( +|$\n?)|(.{1,"+e+"})";return t.match(RegExp(n,"g")).join("\n")},e.prototype.getPrivateKey=function(){var t="-----BEGIN RSA PRIVATE KEY-----\n";return t+=e.wordwrap(this.getPrivateBaseKeyB64())+"\n",t+="-----END RSA PRIVATE KEY-----"},e.prototype.getPublicKey=function(){var t="-----BEGIN PUBLIC KEY-----\n";return t+=e.wordwrap(this.getPublicBaseKeyB64())+"\n",t+="-----END PUBLIC KEY-----"},e.hasPublicKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")},e.hasPrivateKeyProperty=function(t){return(t=t||{}).hasOwnProperty("n")&&t.hasOwnProperty("e")&&t.hasOwnProperty("d")&&t.hasOwnProperty("p")&&t.hasOwnProperty("q")&&t.hasOwnProperty("dmp1")&&t.hasOwnProperty("dmq1")&&t.hasOwnProperty("coeff")},e.prototype.parsePropertiesFrom=function(t){this.n=t.n,this.e=t.e,t.hasOwnProperty("d")&&(this.d=t.d,this.p=t.p,this.q=t.q,this.dmp1=t.dmp1,this.dmq1=t.dmq1,this.coeff=t.coeff)},e}($),tt=function(){function t(t){t=t||{},this.default_key_size=parseInt(t.default_key_size,10)||1024,this.default_public_exponent=t.default_public_exponent||"010001",this.log=t.log||!1,this.key=null}return t.prototype.setKey=function(t){this.log&&this.key&&console.warn("A key was already set, overriding existing."),this.key=new X(t)},t.prototype.setPrivateKey=function(t){this.setKey(t)},t.prototype.setPublicKey=function(t){this.setKey(t)},t.prototype.decrypt=function(t){try{return this.getKey().decrypt(h(t))}catch(t){return!1}},t.prototype.encrypt=function(t){try{return a(this.getKey().encrypt(t))}catch(t){return!1}},t.prototype.sign=function(t,e,n){try{return a(this.getKey().sign(t,e,n))}catch(t){return!1}},t.prototype.verify=function(t,e,n){try{return this.getKey().verify(t,h(e),n)}catch(t){return!1}},t.prototype.getKey=function(t){if(!this.key){if(this.key=new X,t&&"[object Function]"==={}.toString.call(t))return void this.key.generateAsync(this.default_key_size,this.default_public_exponent,t);this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key},t.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()},t.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()},t.prototype.getPublicKey=function(){return this.getKey().getPublicKey()},t.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()},t.version="3.0.0-rc.1",t}();window.JSEncrypt=tt,t.JSEncrypt=tt,t.default=tt,Object.defineProperty(t,"__esModule",{value:!0})}(e)},function(t,e,n){"use strict";n.r(e),n.d(e,"audit",(function(){return i})),n.d(e,"auditTime",(function(){return a})),n.d(e,"buffer",(function(){return h})),n.d(e,"bufferCount",(function(){return p})),n.d(e,"bufferTime",(function(){return y})),n.d(e,"bufferToggle",(function(){return N})),n.d(e,"bufferWhen",(function(){return R})),n.d(e,"catchError",(function(){return M})),n.d(e,"combineAll",(function(){return B})),n.d(e,"combineLatest",(function(){return H})),n.d(e,"concat",(function(){return q})),n.d(e,"concatAll",(function(){return K.a})),n.d(e,"concatMap",(function(){return W})),n.d(e,"concatMapTo",(function(){return Y})),n.d(e,"count",(function(){return $})),n.d(e,"debounce",(function(){return Q})),n.d(e,"debounceTime",(function(){return et})),n.d(e,"defaultIfEmpty",(function(){return st})),n.d(e,"delay",(function(){return ht})),n.d(e,"delayWhen",(function(){return bt})),n.d(e,"dematerialize",(function(){return wt})),n.d(e,"distinct",(function(){return _t})),n.d(e,"distinctUntilChanged",(function(){return Ot})),n.d(e,"distinctUntilKeyChanged",(function(){return Nt})),n.d(e,"elementAt",(function(){return Ut})),n.d(e,"endWith",(function(){return zt})),n.d(e,"every",(function(){return qt})),n.d(e,"exhaust",(function(){return Wt})),n.d(e,"exhaustMap",(function(){return Zt})),n.d(e,"expand",(function(){return te})),n.d(e,"filter",(function(){return Pt.a})),n.d(e,"finalize",(function(){return re})),n.d(e,"find",(function(){return oe})),n.d(e,"findIndex",(function(){return ae})),n.d(e,"first",(function(){return le})),n.d(e,"groupBy",(function(){return de.b})),n.d(e,"ignoreElements",(function(){return fe})),n.d(e,"isEmpty",(function(){return me})),n.d(e,"last",(function(){return xe})),n.d(e,"map",(function(){return Jt.a})),n.d(e,"mapTo",(function(){return _e})),n.d(e,"materialize",(function(){return Oe})),n.d(e,"max",(function(){return De})),n.d(e,"merge",(function(){return Fe})),n.d(e,"mergeAll",(function(){return Ve.a})),n.d(e,"mergeMap",(function(){return G.b})),n.d(e,"flatMap",(function(){return G.a})),n.d(e,"mergeMapTo",(function(){return ke})),n.d(e,"mergeScan",(function(){return Be})),n.d(e,"min",(function(){return He})),n.d(e,"multicast",(function(){return qe})),n.d(e,"observeOn",(function(){return Ge.b})),n.d(e,"onErrorResumeNext",(function(){return We})),n.d(e,"pairwise",(function(){return Je})),n.d(e,"partition",(function(){return tn})),n.d(e,"pluck",(function(){return en})),n.d(e,"publish",(function(){return rn})),n.d(e,"publishBehavior",(function(){return on})),n.d(e,"publishLast",(function(){return un})),n.d(e,"publishReplay",(function(){return hn})),n.d(e,"race",(function(){return dn})),n.d(e,"reduce",(function(){return Ae})),n.d(e,"repeat",(function(){return fn})),n.d(e,"repeatWhen",(function(){return mn})),n.d(e,"retry",(function(){return yn})),n.d(e,"retryWhen",(function(){return xn})),n.d(e,"refCount",(function(){return Tn.a})),n.d(e,"sample",(function(){return On})),n.d(e,"sampleTime",(function(){return Nn})),n.d(e,"scan",(function(){return Ne})),n.d(e,"sequenceEqual",(function(){return An})),n.d(e,"share",(function(){return kn})),n.d(e,"shareReplay",(function(){return Bn})),n.d(e,"single",(function(){return Ln})),n.d(e,"skip",(function(){return zn})),n.d(e,"skipLast",(function(){return Gn})),n.d(e,"skipUntil",(function(){return $n})),n.d(e,"skipWhile",(function(){return Qn})),n.d(e,"startWith",(function(){return er})),n.d(e,"subscribeOn",(function(){return sr})),n.d(e,"switchAll",(function(){return hr})),n.d(e,"switchMap",(function(){return cr})),n.d(e,"switchMapTo",(function(){return lr})),n.d(e,"take",(function(){return kt})),n.d(e,"takeLast",(function(){return ye})),n.d(e,"takeUntil",(function(){return dr})),n.d(e,"takeWhile",(function(){return br})),n.d(e,"tap",(function(){return wr})),n.d(e,"throttle",(function(){return Er})),n.d(e,"throttleTime",(function(){return jr})),n.d(e,"throwIfEmpty",(function(){return At})),n.d(e,"timeInterval",(function(){return Rr})),n.d(e,"timeout",(function(){return Br})),n.d(e,"timeoutWith",(function(){return Mr})),n.d(e,"timestamp",(function(){return Lr})),n.d(e,"toArray",(function(){return zr})),n.d(e,"window",(function(){return qr})),n.d(e,"windowCount",(function(){return Wr})),n.d(e,"windowTime",(function(){return Jr})),n.d(e,"windowToggle",(function(){return ri})),n.d(e,"windowWhen",(function(){return oi})),n.d(e,"withLatestFrom",(function(){return ai})),n.d(e,"zip",(function(){return fi})),n.d(e,"zipAll",(function(){return pi}));var r=n(1);function i(t){return function(e){return e.lift(new s(t))}}class s{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new o(t,this.durationSelector))}}class o extends r.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:n}=this;e=n(t)}catch(t){return this.destination.error(t)}const n=Object(r.c)(e,new r.a(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var c=n(5),u=n(65);function a(t,e=c.a){return i(()=>Object(u.a)(t,e))}function h(t){return function(e){return e.lift(new l(t))}}class l{constructor(t){this.closingNotifier=t}call(t,e){return e.subscribe(new d(t,this.closingNotifier))}}class d extends r.b{constructor(t,e){super(t),this.buffer=[],this.add(Object(r.c)(e,new r.a(this)))}_next(t){this.buffer.push(t)}notifyNext(){const t=this.buffer;this.buffer=[],this.destination.next(t)}}var f=n(0);function p(t,e=null){return function(n){return n.lift(new b(t,e))}}class b{constructor(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?g:m}call(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))}}class m extends f.a{constructor(t,e){super(t),this.bufferSize=e,this.buffer=[]}_next(t){const e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])}_complete(){const t=this.buffer;t.length>0&&this.destination.next(t),super._complete()}}class g extends f.a{constructor(t,e,n){super(t),this.bufferSize=e,this.startBufferEvery=n,this.buffers=[],this.count=0}_next(t){const{bufferSize:e,startBufferEvery:n,buffers:r,count:i}=this;this.count++,i%n==0&&r.push([]);for(let n=r.length;n--;){const i=r[n];i.push(t),i.length===e&&(r.splice(n,1),this.destination.next(i))}}_complete(){const{buffers:t,destination:e}=this;for(;t.length>0;){let n=t.shift();n.length>0&&e.next(n)}super._complete()}}var v=n(8);function y(t){let e=arguments.length,n=c.a;Object(v.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);let r=null;e>=2&&(r=arguments[1]);let i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(e){return e.lift(new w(t,r,i,n))}}class w{constructor(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}call(t,e){return e.subscribe(new x(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))}}class S{constructor(){this.buffer=[]}}class x extends f.a{constructor(t,e,n,r,i){super(t),this.bufferTimeSpan=e,this.bufferCreationInterval=n,this.maxBufferSize=r,this.scheduler=i,this.contexts=[];const s=this.openContext();if(this.timespanOnly=null==n||n<0,this.timespanOnly){const t={subscriber:this,context:s,bufferTimeSpan:e};this.add(s.closeAction=i.schedule(_,e,t))}else{const t={subscriber:this,context:s},r={bufferTimeSpan:e,bufferCreationInterval:n,subscriber:this,scheduler:i};this.add(s.closeAction=i.schedule(T,e,t)),this.add(i.schedule(E,n,r))}}_next(t){const e=this.contexts,n=e.length;let r;for(let i=0;i<n;i++){const n=e[i],s=n.buffer;s.push(t),s.length==this.maxBufferSize&&(r=n)}r&&this.onBufferFull(r)}_error(t){this.contexts.length=0,super._error(t)}_complete(){const{contexts:t,destination:e}=this;for(;t.length>0;){const n=t.shift();e.next(n.buffer)}super._complete()}_unsubscribe(){this.contexts=null}onBufferFull(t){this.closeContext(t);const e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();const e=this.bufferTimeSpan,n={subscriber:this,context:t,bufferTimeSpan:e};this.add(t.closeAction=this.scheduler.schedule(_,e,n))}}openContext(){const t=new S;return this.contexts.push(t),t}closeContext(t){this.destination.next(t.buffer);const e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)}}function _(t){const e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function E(t){const{bufferCreationInterval:e,bufferTimeSpan:n,subscriber:r,scheduler:i}=t,s=r.openContext(),o=this;r.closed||(r.add(s.closeAction=i.schedule(T,n,{subscriber:r,context:s})),o.schedule(t,e))}function T(t){const{subscriber:e,context:n}=t;e.closeContext(n)}var O=n(3),j=n(11),I=n(15);function N(t,e){return function(n){return n.lift(new C(t,e))}}class C{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new P(t,this.openings,this.closingSelector))}}class P extends I.a{constructor(t,e,n){super(t),this.closingSelector=n,this.contexts=[],this.add(Object(j.a)(this,e))}_next(t){const e=this.contexts,n=e.length;for(let r=0;r<n;r++)e[r].buffer.push(t)}_error(t){const e=this.contexts;for(;e.length>0;){const t=e.shift();t.subscription.unsubscribe(),t.buffer=null,t.subscription=null}this.contexts=null,super._error(t)}_complete(){const t=this.contexts;for(;t.length>0;){const e=t.shift();this.destination.next(e.buffer),e.subscription.unsubscribe(),e.buffer=null,e.subscription=null}this.contexts=null,super._complete()}notifyNext(t,e){t?this.closeBuffer(t):this.openBuffer(e)}notifyComplete(t){this.closeBuffer(t.context)}openBuffer(t){try{const e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}}closeBuffer(t){const e=this.contexts;if(e&&t){const{buffer:n,subscription:r}=t;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(r),r.unsubscribe()}}trySubscribe(t){const e=this.contexts,n=new O.a,r={buffer:[],subscription:n};e.push(r);const i=Object(j.a)(this,t,r);!i||i.closed?this.closeBuffer(r):(i.context=r,this.add(i),n.add(i))}}function R(t){return function(e){return e.lift(new A(t))}}class A{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new D(t,this.closingSelector))}}class D extends r.b{constructor(t,e){super(t),this.closingSelector=e,this.subscribing=!1,this.openBuffer()}_next(t){this.buffer.push(t)}_complete(){const t=this.buffer;t&&this.destination.next(t),super._complete()}_unsubscribe(){this.buffer=void 0,this.subscribing=!1}notifyNext(){this.openBuffer()}notifyComplete(){this.subscribing?this.complete():this.openBuffer()}openBuffer(){let{closingSubscription:t}=this;t&&(this.remove(t),t.unsubscribe());const e=this.buffer;let n;this.buffer&&this.destination.next(e),this.buffer=[];try{const{closingSelector:t}=this;n=t()}catch(t){return this.error(t)}t=new O.a,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(Object(r.c)(n,new r.a(this))),this.subscribing=!1}}function M(t){return function(e){const n=new F(t),r=e.lift(n);return n.caught=r}}class F{constructor(t){this.selector=t}call(t,e){return e.subscribe(new V(t,this.selector,this.caught))}}class V extends r.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const n=new r.a(this);this.add(n);const i=Object(r.c)(e,n);i!==n&&this.add(i)}}}var k=n(46);function B(t){return e=>e.lift(new k.a(t))}var L=n(6),U=n(10);function H(...t){let e=null;return"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(L.a)(t[0])&&(t=t[0].slice()),n=>n.lift.call(Object(U.a)([n,...t]),new k.a(e))}var z=n(34);function q(...t){return e=>e.lift.call(Object(z.a)(e,...t))}var K=n(62),G=n(27);function W(t,e){return Object(G.b)(t,e,1)}function Y(t,e){return W(()=>t,e)}function $(t){return e=>e.lift(new J(t,e))}class J{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new Z(t,this.predicate,this.source))}}class Z extends f.a{constructor(t,e,n){super(t),this.predicate=e,this.source=n,this.count=0,this.index=0}_next(t){this.predicate?this._tryPredicate(t):this.count++}_tryPredicate(t){let e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++}_complete(){this.destination.next(this.count),this.destination.complete()}}function Q(t){return e=>e.lift(new X(t))}class X{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new tt(t,this.durationSelector))}}class tt extends r.b{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){try{const e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}}_complete(){this.emitValue(),this.destination.complete()}_tryNext(t,e){let n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),n=Object(r.c)(e,new r.a(this)),n&&!n.closed&&this.add(this.durationSubscription=n)}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){if(this.hasValue){const t=this.value,e=this.durationSubscription;e&&(this.durationSubscription=void 0,e.unsubscribe(),this.remove(e)),this.value=void 0,this.hasValue=!1,super._next(t)}}}function et(t,e=c.a){return n=>n.lift(new nt(t,e))}class nt{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new rt(t,this.dueTime,this.scheduler))}}class rt extends f.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(it,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function it(t){t.debouncedNext()}function st(t=null){return e=>e.lift(new ot(t))}class ot{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ct(t,this.defaultValue))}}class ct extends f.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function ut(t){return t instanceof Date&&!isNaN(+t)}var at=n(17);function ht(t,e=c.a){const n=ut(t)?+t-e.now():Math.abs(t);return t=>t.lift(new lt(n,e))}class lt{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new dt(t,this.delay,this.scheduler))}}class dt extends f.a{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0;this.destination.add(t.schedule(dt.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new ft(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(at.a.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(at.a.createComplete()),this.unsubscribe()}}class ft{constructor(t,e){this.time=t,this.notification=e}}var pt=n(2);function bt(t,e){return e?n=>new vt(n,e).lift(new mt(t)):e=>e.lift(new mt(t))}class mt{constructor(t){this.delayDurationSelector=t}call(t,e){return e.subscribe(new gt(t,this.delayDurationSelector))}}class gt extends I.a{constructor(t,e){super(t),this.delayDurationSelector=e,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(t,e,n,r,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()}notifyError(t,e){this._error(t)}notifyComplete(t){const e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()}_next(t){const e=this.index++;try{const n=this.delayDurationSelector(t,e);n&&this.tryDelay(n,t)}catch(t){this.destination.error(t)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(t){t.unsubscribe();const e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue}tryDelay(t,e){const n=Object(j.a)(this,t,e);if(n&&!n.closed){this.destination.add(n),this.delayNotifierSubscriptions.push(n)}}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class vt extends pt.a{constructor(t,e){super(),this.source=t,this.subscriptionDelay=e}_subscribe(t){this.subscriptionDelay.subscribe(new yt(t,this.source))}}class yt extends f.a{constructor(t,e){super(),this.parent=t,this.source=e,this.sourceSubscribed=!1}_next(t){this.subscribeToSource()}_error(t){this.unsubscribe(),this.parent.error(t)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}function wt(){return function(t){return t.lift(new St)}}class St{call(t,e){return e.subscribe(new xt(t))}}class xt extends f.a{constructor(t){super(t)}_next(t){t.observe(this.destination)}}function _t(t,e){return n=>n.lift(new Et(t,e))}class Et{constructor(t,e){this.keySelector=t,this.flushes=e}call(t,e){return e.subscribe(new Tt(t,this.keySelector,this.flushes))}}class Tt extends r.b{constructor(t,e,n){super(t),this.keySelector=e,this.values=new Set,n&&this.add(Object(r.c)(n,new r.a(this)))}notifyNext(){this.values.clear()}notifyError(t){this._error(t)}_next(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)}_useKeySelector(t){let e;const{destination:n}=this;try{e=this.keySelector(t)}catch(t){return void n.error(t)}this._finalizeNext(e,t)}_finalizeNext(t,e){const{values:n}=this;n.has(t)||(n.add(t),this.destination.next(e))}}function Ot(t,e){return n=>n.lift(new jt(t,e))}class jt{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new It(t,this.compare,this.keySelector))}}class It extends f.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(t){return this.destination.error(t)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function Nt(t,e){return Ot((n,r)=>e?e(n[t],r[t]):n[t]===r[t])}var Ct=n(23),Pt=n(16),Rt=n(26);function At(t=Ft){return e=>e.lift(new Dt(t))}class Dt{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Mt(t,this.errorFactory))}}class Mt extends f.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Ft(){return new Rt.a}var Vt=n(9);function kt(t){return e=>0===t?Object(Vt.b)():e.lift(new Bt(t))}class Bt{constructor(t){if(this.total=t,this.total<0)throw new Ct.a}call(t,e){return e.subscribe(new Lt(t,this.total))}}class Lt extends f.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Ut(t,e){if(t<0)throw new Ct.a;const n=arguments.length>=2;return r=>r.pipe(Object(Pt.a)((e,n)=>n===t),kt(1),n?st(e):At(()=>new Ct.a))}var Ht=n(37);function zt(...t){return e=>Object(z.a)(e,Object(Ht.a)(...t))}function qt(t,e){return n=>n.lift(new Kt(t,e,n))}class Kt{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new Gt(t,this.predicate,this.thisArg,this.source))}}class Gt extends f.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function Wt(){return t=>t.lift(new Yt)}class Yt{call(t,e){return e.subscribe(new $t(t))}}class $t extends r.b{constructor(t){super(t),this.hasCompleted=!1,this.hasSubscription=!1}_next(t){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(r.c)(t,new r.a(this))))}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}var Jt=n(7);function Zt(t,e){return e?n=>n.pipe(Zt((n,r)=>Object(U.a)(t(n,r)).pipe(Object(Jt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Qt(t))}class Qt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Xt(t,this.project))}}class Xt extends r.b{constructor(t,e){super(t),this.project=e,this.hasSubscription=!1,this.hasCompleted=!1,this.index=0}_next(t){this.hasSubscription||this.tryNext(t)}tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.hasSubscription=!0,this._innerSub(e)}_innerSub(t){const e=new r.a(this),n=this.destination;n.add(e);const i=Object(r.c)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()}}function te(t,e=Number.POSITIVE_INFINITY,n){return e=(e||0)<1?Number.POSITIVE_INFINITY:e,r=>r.lift(new ee(t,e,n))}class ee{constructor(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}call(t,e){return e.subscribe(new ne(t,this.project,this.concurrent,this.scheduler))}}class ne extends r.b{constructor(t,e,n,r){super(t),this.project=e,this.concurrent=n,this.scheduler=r,this.index=0,this.active=0,this.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(this.buffer=[])}static dispatch(t){const{subscriber:e,result:n,value:r,index:i}=t;e.subscribeToProjection(n,r,i)}_next(t){const e=this.destination;if(e.closed)return void this._complete();const n=this.index++;if(this.active<this.concurrent){e.next(t);try{const{project:e}=this,r=e(t,n);if(this.scheduler){const e={subscriber:this,result:r,value:t,index:n};this.destination.add(this.scheduler.schedule(ne.dispatch,0,e))}else this.subscribeToProjection(r,t,n)}catch(t){e.error(t)}}else this.buffer.push(t)}subscribeToProjection(t,e,n){this.active++;this.destination.add(Object(r.c)(t,new r.a(this)))}_complete(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this._next(t)}notifyComplete(){const t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()}}function re(t){return e=>e.lift(new ie(t))}class ie{constructor(t){this.callback=t}call(t,e){return e.subscribe(new se(t,this.callback))}}class se extends f.a{constructor(t,e){super(t),this.add(new O.a(e))}}function oe(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return n=>n.lift(new ce(t,n,!1,e))}class ce{constructor(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}call(t,e){return e.subscribe(new ue(t,this.predicate,this.source,this.yieldIndex,this.thisArg))}}class ue extends f.a{constructor(t,e,n,r,i){super(t),this.predicate=e,this.source=n,this.yieldIndex=r,this.thisArg=i,this.index=0}notifyComplete(t){const e=this.destination;e.next(t),e.complete(),this.unsubscribe()}_next(t){const{predicate:e,thisArg:n}=this,r=this.index++;try{e.call(n||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(t){this.destination.error(t)}}_complete(){this.notifyComplete(this.yieldIndex?-1:void 0)}}function ae(t,e){return n=>n.lift(new ce(t,n,!0,e))}var he=n(14);function le(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(Pt.a)((e,n)=>t(e,n,r)):he.a,kt(1),n?st(e):At(()=>new Rt.a))}var de=n(57);function fe(){return function(t){return t.lift(new pe)}}class pe{call(t,e){return e.subscribe(new be(t))}}class be extends f.a{_next(t){}}function me(){return t=>t.lift(new ge)}class ge{call(t,e){return e.subscribe(new ve(t))}}class ve extends f.a{constructor(t){super(t)}notifyComplete(t){const e=this.destination;e.next(t),e.complete()}_next(t){this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function ye(t){return function(e){return 0===t?Object(Vt.b)():e.lift(new we(t))}}class we{constructor(t){if(this.total=t,this.total<0)throw new Ct.a}call(t,e){return e.subscribe(new Se(t,this.total))}}class Se extends f.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;if(e.length<n)e.push(t);else{e[r%n]=t}}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function xe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(Pt.a)((e,n)=>t(e,n,r)):he.a,ye(1),n?st(e):At(()=>new Rt.a))}function _e(t){return e=>e.lift(new Ee(t))}class Ee{constructor(t){this.value=t}call(t,e){return e.subscribe(new Te(t,this.value))}}class Te extends f.a{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}function Oe(){return function(t){return t.lift(new je)}}class je{call(t,e){return e.subscribe(new Ie(t))}}class Ie extends f.a{constructor(t){super(t)}_next(t){this.destination.next(at.a.createNext(t))}_error(t){const e=this.destination;e.next(at.a.createError(t)),e.complete()}_complete(){const t=this.destination;t.next(at.a.createComplete()),t.complete()}}function Ne(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ce(t,e,n))}}class Ce{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Pe(t,this.accumulator,this.seed,this.hasSeed))}}class Pe extends f.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(t){this.destination.error(t)}this.seed=n,this.destination.next(n)}}var Re=n(38);function Ae(t,e){return arguments.length>=2?function(n){return Object(Re.a)(Ne(t,e),ye(1),st(e))(n)}:function(e){return Object(Re.a)(Ne((e,n,r)=>t(e,n,r+1)),ye(1))(e)}}function De(t){return Ae("function"==typeof t?(e,n)=>t(e,n)>0?e:n:(t,e)=>t>e?t:e)}var Me=n(63);function Fe(...t){return e=>e.lift.call(Object(Me.a)(e,...t))}var Ve=n(47);function ke(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?Object(G.b)(()=>t,e,n):("number"==typeof e&&(n=e),Object(G.b)(()=>t,n))}function Be(t,e,n=Number.POSITIVE_INFINITY){return r=>r.lift(new Le(t,e,n))}class Le{constructor(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}call(t,e){return e.subscribe(new Ue(t,this.accumulator,this.seed,this.concurrent))}}class Ue extends r.b{constructor(t,e,n,r){super(t),this.accumulator=e,this.acc=n,this.concurrent=r,this.hasValue=!1,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){if(this.active<this.concurrent){const e=this.index++,n=this.destination;let r;try{const{accumulator:n}=this;r=n(this.acc,t,e)}catch(t){return n.error(t)}this.active++,this._innerSub(r)}else this.buffer.push(t)}_innerSub(t){const e=new r.a(this),n=this.destination;n.add(e);const i=Object(r.c)(t,e);i!==e&&n.add(i)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()}notifyNext(t){const{destination:e}=this;this.acc=t,this.hasValue=!0,e.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())}}function He(t){return Ae("function"==typeof t?(e,n)=>t(e,n)<0?e:n:(t,e)=>t<e?t:e)}var ze=n(58);function qe(t,e){return function(n){let r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new Ke(r,e));const i=Object.create(n,ze.b);return i.source=n,i.subjectFactory=r,i}}class Ke{constructor(t,e){this.subjectFactory=t,this.selector=e}call(t,e){const{selector:n}=this,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i}}var Ge=n(60);function We(...t){return 1===t.length&&Object(L.a)(t[0])&&(t=t[0]),e=>e.lift(new Ye(t))}class Ye{constructor(t){this.nextSources=t}call(t,e){return e.subscribe(new $e(t,this.nextSources))}}class $e extends r.b{constructor(t,e){super(t),this.destination=t,this.nextSources=e}notifyError(){this.subscribeToNextSource()}notifyComplete(){this.subscribeToNextSource()}_error(t){this.subscribeToNextSource(),this.unsubscribe()}_complete(){this.subscribeToNextSource(),this.unsubscribe()}subscribeToNextSource(){const t=this.nextSources.shift();if(t){const e=new r.a(this),n=this.destination;n.add(e);const i=Object(r.c)(t,e);i!==e&&n.add(i)}else this.destination.complete()}}function Je(){return t=>t.lift(new Ze)}class Ze{call(t,e){return e.subscribe(new Qe(t))}}class Qe extends f.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}var Xe=n(71);function tn(t,e){return n=>[Object(Pt.a)(t,e)(n),Object(Pt.a)(Object(Xe.a)(t,e))(n)]}function en(...t){const e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return n=>Object(Jt.a)(function(t,e){return n=>{let r=n;for(let n=0;n<e;n++){const e=null!=r?r[t[n]]:void 0;if(void 0===e)return;r=e}return r}}(t,e))(n)}var nn=n(4);function rn(t){return t?qe(()=>new nn.a,t):qe(new nn.a)}var sn=n(59);function on(t){return e=>qe(new sn.a(t))(e)}var cn=n(30);function un(){return t=>qe(new cn.a)(t)}var an=n(44);function hn(t,e,n,r){n&&"function"!=typeof n&&(r=n);const i="function"==typeof n?n:void 0,s=new an.a(t,e,r);return t=>qe(()=>s,i)(t)}var ln=n(64);function dn(...t){return function(e){return 1===t.length&&Object(L.a)(t[0])&&(t=t[0]),e.lift.call(Object(ln.a)(e,...t))}}function fn(t=-1){return e=>0===t?Object(Vt.b)():t<0?e.lift(new pn(-1,e)):e.lift(new pn(t-1,e))}class pn{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new bn(t,this.count,this.source))}}class bn extends f.a{constructor(t,e,n){super(t),this.count=e,this.source=n}complete(){if(!this.isStopped){const{source:t,count:e}=this;if(0===e)return super.complete();e>-1&&(this.count=e-1),t.subscribe(this._unsubscribeAndRecycle())}}}function mn(t){return e=>e.lift(new gn(t))}class gn{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new vn(t,this.notifier,e))}}class vn extends r.b{constructor(t,e,n){super(t),this.notifier=e,this.source=n,this.sourceIsBeingSubscribedTo=!0}notifyNext(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)}notifyComplete(){if(!1===this.sourceIsBeingSubscribedTo)return super.complete()}complete(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return super.complete();this._unsubscribeAndRecycle(),this.notifications.next(void 0)}}_unsubscribe(){const{notifications:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.notifications=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}_unsubscribeAndRecycle(){const{_unsubscribe:t}=this;return this._unsubscribe=null,super._unsubscribeAndRecycle(),this._unsubscribe=t,this}subscribeToRetries(){let t;this.notifications=new nn.a;try{const{notifier:e}=this;t=e(this.notifications)}catch(t){return super.complete()}this.retries=t,this.retriesSubscription=Object(r.c)(t,new r.a(this))}}function yn(t=-1){return e=>e.lift(new wn(t,e))}class wn{constructor(t,e){this.count=t,this.source=e}call(t,e){return e.subscribe(new Sn(t,this.count,this.source))}}class Sn extends f.a{constructor(t,e,n){super(t),this.count=e,this.source=n}error(t){if(!this.isStopped){const{source:e,count:n}=this;if(0===n)return super.error(t);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}}}function xn(t){return e=>e.lift(new _n(t,e))}class _n{constructor(t,e){this.notifier=t,this.source=e}call(t,e){return e.subscribe(new En(t,this.notifier,this.source))}}class En extends r.b{constructor(t,e,n){super(t),this.notifier=e,this.source=n}error(t){if(!this.isStopped){let e=this.errors,n=this.retries,i=this.retriesSubscription;if(n)this.errors=void 0,this.retriesSubscription=void 0;else{e=new nn.a;try{const{notifier:t}=this;n=t(e)}catch(t){return super.error(t)}i=Object(r.c)(n,new r.a(this))}this._unsubscribeAndRecycle(),this.errors=e,this.retries=n,this.retriesSubscription=i,e.next(t)}}_unsubscribe(){const{errors:t,retriesSubscription:e}=this;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0}notifyNext(){const{_unsubscribe:t}=this;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)}}var Tn=n(43);function On(t){return e=>e.lift(new jn(t))}class jn{constructor(t){this.notifier=t}call(t,e){const n=new In(t),i=e.subscribe(n);return i.add(Object(r.c)(this.notifier,new r.a(n))),i}}class In extends r.b{constructor(){super(...arguments),this.hasValue=!1}_next(t){this.value=t,this.hasValue=!0}notifyNext(){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}function Nn(t,e=c.a){return n=>n.lift(new Cn(t,e))}class Cn{constructor(t,e){this.period=t,this.scheduler=e}call(t,e){return e.subscribe(new Pn(t,this.period,this.scheduler))}}class Pn extends f.a{constructor(t,e,n){super(t),this.period=e,this.scheduler=n,this.hasValue=!1,this.add(n.schedule(Rn,e,{subscriber:this,period:e}))}_next(t){this.lastValue=t,this.hasValue=!0}notifyNext(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))}}function Rn(t){let{subscriber:e,period:n}=t;e.notifyNext(),this.schedule(t,n)}function An(t,e){return n=>n.lift(new Dn(t,e))}class Dn{constructor(t,e){this.compareTo=t,this.comparator=e}call(t,e){return e.subscribe(new Mn(t,this.compareTo,this.comparator))}}class Mn extends f.a{constructor(t,e,n){super(t),this.compareTo=e,this.comparator=n,this._a=[],this._b=[],this._oneComplete=!1,this.destination.add(e.subscribe(new Fn(t,this)))}_next(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())}_complete(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()}checkValues(){const{_a:t,_b:e,comparator:n}=this;for(;t.length>0&&e.length>0;){let r=t.shift(),i=e.shift(),s=!1;try{s=n?n(r,i):r===i}catch(t){this.destination.error(t)}s||this.emit(!1)}}emit(t){const{destination:e}=this;e.next(t),e.complete()}nextB(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())}completeB(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0}}class Fn extends f.a{constructor(t,e){super(t),this.parent=e}_next(t){this.parent.nextB(t)}_error(t){this.parent.error(t),this.unsubscribe()}_complete(){this.parent.completeB(),this.unsubscribe()}}function Vn(){return new nn.a}function kn(){return t=>Object(Tn.a)()(qe(Vn)(t))}function Bn(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,c=!1,u=!1;return function(a){let h;o++,!i||c?(c=!1,i=new an.a(t,e,r),h=i.subscribe(this),s=a.subscribe({next(t){i.next(t)},error(t){c=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):h=i.subscribe(this),this.add(()=>{o--,h.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function Ln(t){return e=>e.lift(new Un(t,e))}class Un{constructor(t,e){this.predicate=t,this.source=e}call(t,e){return e.subscribe(new Hn(t,this.predicate,this.source))}}class Hn extends f.a{constructor(t,e,n){super(t),this.predicate=e,this.source=n,this.seenValue=!1,this.index=0}applySingleValue(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)}_next(t){const e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)}tryNext(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}}_complete(){const t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new Rt.a)}}function zn(t){return e=>e.lift(new qn(t))}class qn{constructor(t){this.total=t}call(t,e){return e.subscribe(new Kn(t,this.total))}}class Kn extends f.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function Gn(t){return e=>e.lift(new Wn(t))}class Wn{constructor(t){if(this._skipCount=t,this._skipCount<0)throw new Ct.a}call(t,e){return 0===this._skipCount?e.subscribe(new f.a(t)):e.subscribe(new Yn(t,this._skipCount))}}class Yn extends f.a{constructor(t,e){super(t),this._skipCount=e,this._count=0,this._ring=new Array(e)}_next(t){const e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{const r=n%e,i=this._ring,s=i[r];i[r]=t,this.destination.next(s)}}}function $n(t){return e=>e.lift(new Jn(t))}class Jn{constructor(t){this.notifier=t}call(t,e){return e.subscribe(new Zn(t,this.notifier))}}class Zn extends r.b{constructor(t,e){super(t),this.hasValue=!1;const n=new r.a(this);this.add(n),this.innerSubscription=n;const i=Object(r.c)(e,n);i!==n&&(this.add(i),this.innerSubscription=i)}_next(t){this.hasValue&&super._next(t)}notifyNext(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()}notifyComplete(){}}function Qn(t){return e=>e.lift(new Xn(t))}class Xn{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new tr(t,this.predicate))}}class tr extends f.a{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}}}function er(...t){const e=t[t.length-1];return Object(v.a)(e)?(t.pop(),n=>Object(z.a)(t,n,e)):e=>Object(z.a)(t,e)}var nr=n(39),rr=n(32);class ir extends pt.a{constructor(t,e=0,n=nr.a){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(rr.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=nr.a)}static create(t,e=0,n=nr.a){return new ir(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){const e=this.delayTime,n=this.source;return this.scheduler.schedule(ir.dispatch,e,{source:n,subscriber:t})}}function sr(t,e=0){return function(n){return n.lift(new or(t,e))}}class or{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new ir(e,this.delay,this.scheduler).subscribe(t)}}function cr(t,e){return"function"==typeof e?n=>n.pipe(cr((n,r)=>Object(U.a)(t(n,r)).pipe(Object(Jt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new ur(t))}class ur{constructor(t){this.project=t}call(t,e){return e.subscribe(new ar(t,this.project))}}class ar extends r.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new r.a(this),i=this.destination;i.add(n),this.innerSubscription=Object(r.c)(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function hr(){return cr(he.a)}function lr(t,e){return e?cr(()=>t,e):cr(()=>t)}function dr(t){return e=>e.lift(new fr(t))}class fr{constructor(t){this.notifier=t}call(t,e){const n=new pr(t),i=Object(r.c)(this.notifier,new r.a(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class pr extends r.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function br(t,e=!1){return n=>n.lift(new mr(t,e))}class mr{constructor(t,e){this.predicate=t,this.inclusive=e}call(t,e){return e.subscribe(new gr(t,this.predicate,this.inclusive))}}class gr extends f.a{constructor(t,e,n){super(t),this.predicate=e,this.inclusive=n,this.index=0}_next(t){const e=this.destination;let n;try{n=this.predicate(t,this.index++)}catch(t){return void e.error(t)}this.nextOrComplete(t,n)}nextOrComplete(t,e){const n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())}}var vr=n(20),yr=n(24);function wr(t,e,n){return function(r){return r.lift(new Sr(t,e,n))}}class Sr{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new xr(t,this.nextOrObserver,this.error,this.complete))}}class xr extends f.a{constructor(t,e,n,r){super(t),this._tapNext=vr.a,this._tapError=vr.a,this._tapComplete=vr.a,this._tapError=n||vr.a,this._tapComplete=r||vr.a,Object(yr.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||vr.a,this._tapError=e.error||vr.a,this._tapComplete=e.complete||vr.a)}_next(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}const _r={leading:!0,trailing:!1};function Er(t,e=_r){return n=>n.lift(new Tr(t,!!e.leading,!!e.trailing))}class Tr{constructor(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}call(t,e){return e.subscribe(new Or(t,this.durationSelector,this.leading,this.trailing))}}class Or extends r.b{constructor(t,e,n,r){super(t),this.destination=t,this.durationSelector=e,this._leading=n,this._trailing=r,this._hasValue=!1}_next(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))}send(){const{_hasValue:t,_sendValue:e}=this;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0}throttle(t){const e=this.tryDurationSelector(t);e&&this.add(this._throttled=Object(r.c)(e,new r.a(this)))}tryDurationSelector(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}}throttlingDone(){const{_throttled:t,_trailing:e}=this;t&&t.unsubscribe(),this._throttled=void 0,e&&this.send()}notifyNext(){this.throttlingDone()}notifyComplete(){this.throttlingDone()}}function jr(t,e=c.a,n=_r){return r=>r.lift(new Ir(t,e,n.leading,n.trailing))}class Ir{constructor(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}call(t,e){return e.subscribe(new Nr(t,this.duration,this.scheduler,this.leading,this.trailing))}}class Nr extends f.a{constructor(t,e,n,r,i){super(t),this.duration=e,this.scheduler=n,this.leading=r,this.trailing=i,this._hasTrailingValue=!1,this._trailingValue=null}_next(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(Cr,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))}_complete(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()}clearThrottle(){const t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)}}function Cr(t){const{subscriber:e}=t;e.clearThrottle()}var Pr=n(48);function Rr(t=c.a){return e=>Object(Pr.a)(()=>e.pipe(Ne(({current:e},n)=>({value:n,current:t.now(),last:e}),{current:t.now(),value:void 0,last:void 0}),Object(Jt.a)(({current:t,last:e,value:n})=>new Ar(n,t-e))))}class Ar{constructor(t,e){this.value=t,this.interval=e}}var Dr=n(61);function Mr(t,e,n=c.a){return r=>{let i=ut(t),s=i?+t-n.now():Math.abs(t);return r.lift(new Fr(s,i,e,n))}}class Fr{constructor(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}call(t,e){return e.subscribe(new Vr(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class Vr extends r.b{constructor(t,e,n,r,i){super(t),this.absoluteTimeout=e,this.waitFor=n,this.withObservable=r,this.scheduler=i,this.scheduleTimeout()}static dispatchTimeout(t){const{withObservable:e}=t;t._unsubscribeAndRecycle(),t.add(Object(r.c)(e,new r.a(t)))}scheduleTimeout(){const{action:t}=this;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(Vr.dispatchTimeout,this.waitFor,this))}_next(t){this.absoluteTimeout||this.scheduleTimeout(),super._next(t)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var kr=n(45);function Br(t,e=c.a){return Mr(t,Object(kr.a)(new Dr.a),e)}function Lr(t=c.a){return Object(Jt.a)(e=>new Ur(e,t.now()))}class Ur{constructor(t,e){this.value=t,this.timestamp=e}}function Hr(t,e,n){return 0===n?[e]:(t.push(e),t)}function zr(){return Ae(Hr,[])}function qr(t){return function(e){return e.lift(new Kr(t))}}class Kr{constructor(t){this.windowBoundaries=t}call(t,e){const n=new Gr(t),i=e.subscribe(n);return i.closed||n.add(Object(r.c)(this.windowBoundaries,new r.a(n))),i}}class Gr extends r.b{constructor(t){super(t),this.window=new nn.a,t.next(this.window)}notifyNext(){this.openWindow()}notifyError(t){this._error(t)}notifyComplete(){this._complete()}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t)}_complete(){this.window.complete(),this.destination.complete()}_unsubscribe(){this.window=null}openWindow(){const t=this.window;t&&t.complete();const e=this.destination,n=this.window=new nn.a;e.next(n)}}function Wr(t,e=0){return function(n){return n.lift(new Yr(t,e))}}class Yr{constructor(t,e){this.windowSize=t,this.startWindowEvery=e}call(t,e){return e.subscribe(new $r(t,this.windowSize,this.startWindowEvery))}}class $r extends f.a{constructor(t,e,n){super(t),this.destination=t,this.windowSize=e,this.startWindowEvery=n,this.windows=[new nn.a],this.count=0,t.next(this.windows[0])}_next(t){const e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,s=i.length;for(let e=0;e<s&&!this.closed;e++)i[e].next(t);const o=this.count-r+1;if(o>=0&&o%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){const t=new nn.a;i.push(t),n.next(t)}}_error(t){const e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()}_unsubscribe(){this.count=0,this.windows=null}}function Jr(t){let e=c.a,n=null,r=Number.POSITIVE_INFINITY;return Object(v.a)(arguments[3])&&(e=arguments[3]),Object(v.a)(arguments[2])?e=arguments[2]:Object(rr.a)(arguments[2])&&(r=Number(arguments[2])),Object(v.a)(arguments[1])?e=arguments[1]:Object(rr.a)(arguments[1])&&(n=Number(arguments[1])),function(i){return i.lift(new Zr(t,n,r,e))}}class Zr{constructor(t,e,n,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=r}call(t,e){return e.subscribe(new Xr(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))}}class Qr extends nn.a{constructor(){super(...arguments),this._numberOfNextedValues=0}next(t){this._numberOfNextedValues++,super.next(t)}get numberOfNextedValues(){return this._numberOfNextedValues}}class Xr extends f.a{constructor(t,e,n,r,i){super(t),this.destination=t,this.windowTimeSpan=e,this.windowCreationInterval=n,this.maxWindowSize=r,this.scheduler=i,this.windows=[];const s=this.openWindow();if(null!==n&&n>=0){const t={subscriber:this,window:s,context:null},r={windowTimeSpan:e,windowCreationInterval:n,subscriber:this,scheduler:i};this.add(i.schedule(ni,e,t)),this.add(i.schedule(ei,n,r))}else{const t={subscriber:this,window:s,windowTimeSpan:e};this.add(i.schedule(ti,e,t))}}_next(t){const e=this.windows,n=e.length;for(let r=0;r<n;r++){const n=e[r];n.closed||(n.next(t),n.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(n))}}_error(t){const e=this.windows;for(;e.length>0;)e.shift().error(t);this.destination.error(t)}_complete(){const t=this.windows;for(;t.length>0;){const e=t.shift();e.closed||e.complete()}this.destination.complete()}openWindow(){const t=new Qr;this.windows.push(t);return this.destination.next(t),t}closeWindow(t){t.complete();const e=this.windows;e.splice(e.indexOf(t),1)}}function ti(t){const{subscriber:e,windowTimeSpan:n,window:r}=t;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function ei(t){const{windowTimeSpan:e,subscriber:n,scheduler:r,windowCreationInterval:i}=t,s=n.openWindow();let o={action:this,subscription:null};const c={subscriber:n,window:s,context:o};o.subscription=r.schedule(ni,e,c),this.add(o.subscription),this.schedule(t,i)}function ni(t){const{subscriber:e,window:n,context:r}=t;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}function ri(t,e){return n=>n.lift(new ii(t,e))}class ii{constructor(t,e){this.openings=t,this.closingSelector=e}call(t,e){return e.subscribe(new si(t,this.openings,this.closingSelector))}}class si extends I.a{constructor(t,e,n){super(t),this.openings=e,this.closingSelector=n,this.contexts=[],this.add(this.openSubscription=Object(j.a)(this,e,e))}_next(t){const{contexts:e}=this;if(e){const n=e.length;for(let r=0;r<n;r++)e[r].window.next(t)}}_error(t){const{contexts:e}=this;if(this.contexts=null,e){const n=e.length;let r=-1;for(;++r<n;){const n=e[r];n.window.error(t),n.subscription.unsubscribe()}}super._error(t)}_complete(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let n=-1;for(;++n<e;){const e=t[n];e.window.complete(),e.subscription.unsubscribe()}}super._complete()}_unsubscribe(){const{contexts:t}=this;if(this.contexts=null,t){const e=t.length;let n=-1;for(;++n<e;){const e=t[n];e.window.unsubscribe(),e.subscription.unsubscribe()}}}notifyNext(t,e,n,r,i){if(t===this.openings){let t;try{const{closingSelector:n}=this;t=n(e)}catch(t){return this.error(t)}const n=new nn.a,r=new O.a,i={window:n,subscription:r};this.contexts.push(i);const s=Object(j.a)(this,t,i);s.closed?this.closeWindow(this.contexts.length-1):(s.context=i,r.add(s)),this.destination.next(n)}else this.closeWindow(this.contexts.indexOf(t))}notifyError(t){this.error(t)}notifyComplete(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))}closeWindow(t){if(-1===t)return;const{contexts:e}=this,n=e[t],{window:r,subscription:i}=n;e.splice(t,1),r.complete(),i.unsubscribe()}}function oi(t){return function(e){return e.lift(new ci(t))}}class ci{constructor(t){this.closingSelector=t}call(t,e){return e.subscribe(new ui(t,this.closingSelector))}}class ui extends I.a{constructor(t,e){super(t),this.destination=t,this.closingSelector=e,this.openWindow()}notifyNext(t,e,n,r,i){this.openWindow(i)}notifyError(t){this._error(t)}notifyComplete(t){this.openWindow(t)}_next(t){this.window.next(t)}_error(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()}_complete(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()}unsubscribeClosingNotification(){this.closingNotification&&this.closingNotification.unsubscribe()}openWindow(t=null){t&&(this.remove(t),t.unsubscribe());const e=this.window;e&&e.complete();const n=this.window=new nn.a;let r;this.destination.next(n);try{const{closingSelector:t}=this;r=t()}catch(t){return this.destination.error(t),void this.window.error(t)}this.add(this.closingNotification=Object(j.a)(this,r))}}function ai(...t){return e=>{let n;"function"==typeof t[t.length-1]&&(n=t.pop());const r=t;return e.lift(new hi(r,n))}}class hi{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new li(t,this.observables,this.project))}}class li extends I.a{constructor(t,e,n){super(t),this.observables=e,this.project=n,this.toRespond=[];const r=e.length;this.values=new Array(r);for(let t=0;t<r;t++)this.toRespond.push(t);for(let t=0;t<r;t++){let n=e[t];this.add(Object(j.a)(this,n,void 0,t))}}notifyNext(t,e,n){this.values[n]=e;const r=this.toRespond;if(r.length>0){const t=r.indexOf(n);-1!==t&&r.splice(t,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)}}var di=n(49);function fi(...t){return function(e){return e.lift.call(Object(di.b)(e,...t))}}function pi(t){return e=>e.lift(new di.a(t))}}])}));